!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n,this.type=t,this.source=document.querySelector("#"+t+"_template").innerHTML,this.template=Handlebars.compile(this.source)}return o(e,[{key:"init",value:function(e,t,n){var o=this;return new Promise(function(r,i){o.add_card(e,t,n).then(function(e){r(e)}).catch(function(e){return console.log(e)})})}},{key:"add_card",value:function(e,t,n){var o=this;return new Promise(function(n,r){var i=document.createElement("div");i.classList.add("card"),i.setAttribute("data-id",e.name),i.setAttribute("data-type",o.type),i.innerHTML=o.template(e),t.appendChild(i),TweenMax.killTweensOf(o.delay),TweenMax.delayedCall(.05,o.delay,[n])})}},{key:"delay",value:function(e){e()}},{key:"db",value:function(e){return e?e.split("https://www.dropbox.com").length>1?"https://dl.dropboxusercontent.com"+e.split("https://www.dropbox.com")[1]:e:null}},{key:"dd",value:function(e,t){return t?cordova.file.dataDirectory+(e.replace(/ /g,"")+"/")+(t.split("file:").length>1?t.split("?dl=0")[0].split("/")[t.split("?dl=0")[0].split("/").length-1].split("?_=")[0]:t.split("?dl=0")[0].split("/")[t.split("?dl=0")[0].split("/").length-1])+"?_="+Date.now():null}},{key:"init_carousel",value:function(e,t,n){var o=this;return new Promise(function(r,i){var a=o;o.scroll=new IScroll("[data-id="+o.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),o.scroll.on("scrollEnd",function(e){var t=a.scroll.currentPage.pageX;Array.from(n.querySelectorAll("[data-id="+a.id+"] .dot")).forEach(function(e){e.classList.remove("blue_dot")}),n.querySelector("[data-id="+a.id+"] .dot:nth-child("+(t+1)+")")&&n.querySelector("[data-id="+a.id+"] .dot:nth-child("+(t+1)+")").classList.add("blue_dot")}),o.scroll.on("scroll",function(t){a.update(e,this)}),o.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),r(t)})}},{key:"init_card_click",value:function(e,t,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.querySelector("[data-id="+this.id+"] "+(r||"")).onclick=function(t){(e.target_tab&&o.homepage.init(n,""+e.target_tab).catch(function(e){return console.log(e)}),e.target&&(n.config.skin.persona["bieber_"+n.config.skin.persona.time]=[e.target],o.homepage.init(n,"bieber").catch(function(e){return console.log(e)})),e.target_search)&&(n.config.skin.persona.autosuggest.filter(function(t){return t.name===e.target_search}).length>0?(n.config.skin.persona["sr_"+n.config.skin.persona.time]=n.config.skin.persona.autosuggest.filter(function(t){return t.name===e.target_search})[0].cards,o.homepage.init(n,"sr").catch(function(e){return console.log(e)})):console.log("Include your target search to autosuggest in personas table"));e.target_cards&&(n.config.skin.persona["blog_"+n.config.skin.persona.time]=e.target_cards,o.homepage.init(n,"blog").catch(function(e){return console.log(e)}))}}},{key:"init_carousel_card_click",value:function(e,t,n,o){var r=this;Array.from(t.querySelectorAll("[data-id="+this.id+"] ."+o)).forEach(function(t){return t.onclick=function(t){var o=t.currentTarget.getAttribute("data-name"),i=e.carousel.filter(function(e){return e.name===o})[0],a=e.carousel.filter(function(e){return e.name===o})[0].target,c=e.carousel.filter(function(e){return e.name===o})[0].target_tab,u=e.carousel.filter(function(e){return e.name===o})[0].target_search,l=e.carousel.filter(function(e){return e.name===o})[0].target_cards;a&&(n.config.skin.persona["bieber_"+n.config.skin.persona.time]=[e.carousel.filter(function(e){return e.name===o})[0].target],r.homepage.init(n,"bieber").catch(function(e){return console.log(e)})),c&&r.homepage.init(n,c).catch(function(e){return console.log(e)}),u&&(n.config.skin.persona["sr_"+n.config.skin.persona.time]=n.config.skin.persona.autosuggest.filter(function(e){return e.name===u})[0].cards,r.homepage.init(n,"sr").catch(function(e){return console.log(e)})),l&&("home_company_updates_cab"==e.type?(n.config.events[i.name]=i,"event"===i.category&&(i.company=n.config.skin.persona.company_name.toUpperCase(),i.type="top_image_nav",n.config.skin.persona["blog_"+n.config.skin.persona.time]=[i]),"survey"===i.category&&(n.config.skin.persona["blog_"+n.config.skin.persona.time]=l)):n.config.skin.persona["blog_"+n.config.skin.persona.time]=l,r.homepage.init(n,"blog").catch(function(e){return console.log(e)}))}})}},{key:"flatten",value:function(e){for(var t=0;t<e.length;Array.isArray(e[t])&&e.splice.apply(e,[t,1].concat(r(e[t])))||t++);return e}},{key:"removeDuplicates",value:function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}},{key:"removeDuplicatesObj",value:function(e){var t={},n=[];for(var o in t.activities=[],t.total_points=0,e)-1===n.indexOf(e[o].title)&&(n.push(e[o].title),t.activities.push({title:e[o].title,points:e[o].points}),t.total_points+=Number(e[o].points));return t}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));document.querySelector("[data-id="+this.id+"] .layers")&&TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth,ease:Quint.easeOut})}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.autoplay=n,this.id=t,this.section=document.querySelector(""+t),this.source=document.querySelector(t+"_template").innerHTML,this.template=Handlebars.compile(this.source)}return o(e,[{key:"init",value:function(e){var t=this;return new Promise(function(n,o){t.init_layout(e).then(function(e){n(e),t.autoplay&&t.play()}).catch(function(e){return console.log(e)})})}},{key:"init_layout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){document.querySelector(e.id).innerHTML=e.template(t),n(e.id+" ready")})}},{key:"db",value:function(e){return e?e.split("https://www.dropbox.com").length>1?"https://dl.dropboxusercontent.com"+e.split("https://www.dropbox.com")[1]:e:null}},{key:"dd",value:function(e,t){return t?cordova.file.dataDirectory+(e.replace(/ /g,"")+"/")+(t.split("file:").length>1?t.split("?dl=0")[0].split("/")[t.split("?dl=0")[0].split("/").length-1].split("?_=")[0]:t.split("?dl=0")[0].split("/")[t.split("?dl=0")[0].split("/").length-1])+"?_="+Date.now():null}},{key:"play",value:function(){Array.from(document.querySelectorAll(".main")).forEach(function(e,t){e.classList.add("hidden")}),document.querySelector(this.id).classList.remove("hidden")}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(1)),i=(a(n(4)),a(n(3)));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.scroll=null,r.front=null,r.back=null,r.origin=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){var n=this;return new Promise(function(o,r){""!==e.config.language&&"english"!==e.config.language||(e.config.skin.persona.onboarding=e.config.skin.persona.onboarding.filter(function(e){return null===e.language})),"german"===e.config.language&&(e.config.skin.persona.onboarding=e.config.skin.persona.onboarding.filter(function(e){return"german"===e.language})),"chinese"===e.config.language&&(e.config.skin.persona.onboarding=e.config.skin.persona.onboarding.filter(function(e){return"chinese"===e.language})),"spanish"===e.config.language&&(e.config.skin.persona.onboarding=e.config.skin.persona.onboarding.filter(function(e){return"spanish"===e.language})),e.dev?(e.config.skin.logo=n.db(e.config.skin.logo),e.config.skin.onboarding_image=n.db(e.config.skin.onboarding_image),e.config.skin.persona.onboarding?(e.config.skin.persona.onboarding.forEach(function(e){return e.image=n.db(e.image)}),e.config.skin.onboarding=e.config.skin.persona.onboarding):e.config.skin.onboarding.forEach(function(e){return e.image=n.db(e.image)})):(e.config.skin.logo=n.dd(""+e.config.skin.domain,e.config.skin.logo),e.config.skin.onboarding_image=n.dd(""+e.config.skin.domain,e.config.skin.onboarding_image),e.config.skin.persona.onboarding?(e.config.skin.persona.onboarding.forEach(function(e){return e.image=n.dd("public/home",e.image)}),e.config.skin.onboarding=e.config.skin.persona.onboarding):e.config.skin.onboarding.forEach(function(e){return e.image=n.dd("public/home",e.image)})),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,e).then(function(t){return n.init_carousel(e,t)}).then(function(t){return n.init_nav(t,e)}).then(function(e){o(e)}).catch(function(e){return console.log(e)})})}},{key:"init_carousel",value:function(e,t){var n=this;return new Promise(function(o,r){var i=n;e.config.skin.persona.onboarding&&Array.from(n.section.querySelectorAll("#onboarding .carousel .slide")).forEach(function(t){e.config.skin.persona.onboarding.filter(function(e){return t.getAttribute("data-slide")==e.type}).length>0||n.section.querySelector("[data-slide="+t.getAttribute("data-slide")+"]").parentNode.removeChild(n.section.querySelector("[data-slide="+t.getAttribute("data-slide")+"]"))}),n.front=n.section.querySelector('[data-layer="front"]'),n.back=n.section.querySelector('[data-layer="back"]'),n.scroll=new IScroll("#onboarding .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),n.scroll.on("scroll",function(t){i.update(e,this)}),n.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),Array.from(n.section.querySelectorAll('[data-slide="doctors"] .doctor, [data-slide="goals"] .goal')).forEach(function(e,t){e.addEventListener("BOX_TAPPED",function(t){Array.from(e.classList).includes("active")?e.classList.remove("active"):e.classList.add("active")})}),n.scroll.on("scrollEnd",function(t){var n=i.scroll.currentPage.pageX;Array.from(i.section.querySelectorAll(".dots_container .dot")).forEach(function(t){t.classList.remove("blue_dot"),e.config.skin.button_background_color&&(t.style.backgroundColor="#cccccc")}),i.section.querySelector(".dots_container .dot:nth-child("+(n+1)+")")&&i.section.querySelector(".dots_container .dot:nth-child("+(n+1)+")").classList.add("blue_dot"),e.config.skin.button_background_color&&i.section.querySelector(".blue_dot")&&(i.section.querySelector(".blue_dot").style.backgroundColor=e.config.skin.button_background_color),i.section.setAttribute("data-onboarding-current-slide",n)}),1==Array.from(n.section.querySelectorAll(".dots_container .dot")).length&&n.section.querySelector(".dots_container .dots").classList.add("hidden"),o(t)})}},{key:"update",value:function(e,t){var n=4*$(window).width();TweenMax.to(this.back,1,{x:200*-Math.abs(t.x/n),ease:Quint.easeOut}),TweenMax.to(this.front,1,{x:400*-Math.abs(t.x/n),ease:Quint.easeOut})}},{key:"init_nav",value:function(e,t){var n=this;return new Promise(function(o,r){"german"===t.config.language&&Array.from(n.section.querySelectorAll('[data-name="next"]')).forEach(function(e,t){t<n.section.querySelectorAll('[data-name="next"]').length-1?e.innerHTML="WEITER":e.innerHTML="FERTIG!"}),"chinese"===t.config.language&&Array.from(n.section.querySelectorAll('[data-name="next"]')).forEach(function(e,t){t<n.section.querySelectorAll('[data-name="next"]').length-1?e.innerHTML="下一步":e.innerHTML="全部完成！"}),"spanish"===t.config.language&&Array.from(n.section.querySelectorAll('[data-name="next"]')).forEach(function(e,t){t<n.section.querySelectorAll('[data-name="next"]').length-1?e.innerHTML="SIGUIENTE":e.innerHTML="¡TODO LISTO!"}),Array.from(n.section.querySelectorAll('[data-name="next"]')).forEach(function(e){return e.onclick=function(){var e=n.scroll.currentPage.pageX;if(e+1<n.scroll.pages.length)n.scroll.goToPage(e+1,0,500,IScroll.utils.ease.circular);else{var o=new i.default("#homepage",!0,t,n.origin);o.init(t).then(function(e){return o.init_first_interstitial(e,t)}).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})}}}),o(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),i=ro(r),a=n(19),c=ro(a),u=n(20),l=ro(u),s=n(21),f=ro(s),p=n(22),g=ro(p),d=n(23),_=ro(d),y=n(24),h=ro(y),b=n(25),v=ro(b),m=n(26),w=ro(m),O=n(27),k=ro(O),P=n(28),j=ro(P),S=n(29),E=ro(S),T=n(30),q=ro(T),M=n(31),x=ro(M),A=n(32),L=ro(A),D=n(33),C=ro(D),R=n(34),F=ro(R),H=n(35),I=ro(H),W=n(36),N=ro(W),X=n(37),Q=ro(X),U=n(38),B=ro(U),Y=n(39),G=ro(Y),z=n(40),J=ro(z),V=n(41),K=ro(V),Z=n(42),ee=ro(Z),te=n(43),ne=ro(te),oe=n(44),re=ro(oe),ie=n(45),ae=ro(ie),ce=n(46),ue=ro(ce),le=n(47),se=ro(le),fe=n(48),pe=ro(fe),ge=n(49),de=ro(ge),_e=n(50),ye=ro(_e),he=n(51),be=ro(he),ve=n(52),me=ro(ve),we=n(53),Oe=ro(we),ke=n(54),Pe=ro(ke),je=n(55),Se=ro(je),Ee=n(56),Te=ro(Ee),qe=n(57),Me=ro(qe),xe=n(58),Ae=ro(xe),Le=n(59),De=ro(Le),Ce=n(60),Re=ro(Ce),Fe=n(61),He=ro(Fe),Ie=n(62),We=ro(Ie),Ne=n(63),$e=ro(Ne),Xe=n(64),Qe=ro(Xe),Ue=n(65),Be=ro(Ue),Ye=n(66),Ge=ro(Ye),ze=n(67),Je=ro(ze),Ve=n(7),Ke=ro(Ve),Ze=n(68),et=ro(Ze),tt=n(69),nt=ro(tt),ot=n(70),rt=ro(ot),it=n(71),at=ro(it),ct=n(72),ut=ro(ct),lt=n(73),st=ro(lt),ft=ro(n(74)),pt=ro(n(75)),gt=ro(n(76)),dt=ro(n(77)),_t=ro(n(78)),yt=ro(n(79)),ht=ro(n(80)),bt=ro(n(81)),vt=ro(n(82)),mt=ro(n(83)),wt=ro(n(84)),Ot=ro(n(8)),kt=ro(n(85)),Pt=ro(n(86)),jt=ro(n(9)),St=ro(n(87)),Et=ro(n(88)),Tt=ro(n(89)),qt=ro(n(90)),Mt=ro(n(91)),xt=ro(n(92)),At=ro(n(93)),Lt=ro(n(94)),Dt=ro(n(95)),Ct=ro(n(96)),Rt=ro(n(97)),Ft=ro(n(98)),Ht=ro(n(99)),It=ro(n(100)),Wt=ro(n(101)),Nt=ro(n(102)),$t=ro(n(103)),Xt=ro(n(104)),Qt=ro(n(105)),Ut=ro(n(106)),Bt=ro(n(107)),Yt=ro(n(108)),Gt=ro(n(10)),zt=ro(n(109)),Jt=ro(n(110)),Vt=ro(n(111)),Kt=ro(n(112)),Zt=ro(n(11)),en=ro(n(113)),tn=ro(n(114)),nn=ro(n(115)),on=ro(n(116)),rn=ro(n(117)),an=ro(n(118)),cn=ro(n(119)),un=ro(n(120)),ln=ro(n(121)),sn=ro(n(122)),fn=ro(n(123)),pn=ro(n(124)),gn=ro(n(125)),dn=ro(n(126)),_n=ro(n(127)),yn=ro(n(128)),hn=ro(n(129)),bn=ro(n(130)),vn=ro(n(131)),mn=ro(n(132)),wn=ro(n(133)),On=ro(n(134)),kn=ro(n(135)),Pn=ro(n(136)),jn=ro(n(137)),Sn=ro(n(138)),En=ro(n(139)),Tn=ro(n(140)),qn=ro(n(141)),Mn=ro(n(142)),xn=ro(n(143)),An=ro(n(144)),Ln=ro(n(145)),Dn=ro(n(146)),Cn=ro(n(147)),Rn=ro(n(148)),Fn=ro(n(149)),Hn=ro(n(150)),In=ro(n(151)),Wn=ro(n(152)),Nn=ro(n(153)),$n=ro(n(154)),Xn=ro(n(155)),Qn=ro(n(156)),Un=ro(n(157)),Bn=ro(n(158)),Yn=ro(n(159)),Gn=ro(n(160)),zn=ro(n(161)),Jn=ro(n(162)),Vn=ro(n(163)),Kn=ro(n(164)),Zn=ro(n(165)),eo=ro(n(166)),to=ro(n(167)),no=ro(n(168)),oo=ro(n(169));function ro(e){return e&&e.__esModule?e:{default:e}}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ao=function(e){function t(e,n,o,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.origin=r,a.classes=(io(i={home_top_carousel:c.default,home_rewards_balance:l.default,home_fund_balances:f.default,home_action_carousel:g.default,home_plan_status:h.default,home_recent_claims:v.default,find_care_top_carousel:_.default,find_care_nearby_carousel:w.default,find_pcp_carousel:L.default,legal_notice:C.default,pcp_details_profile:F.default,pcp_details_rate_provider:I.default,autosuggest:N.default,pcp_details_patient_ratings:Q.default,program:B.default,program_details:G.default,program_multiactions:J.default,program_action:K.default,program_screen:ee.default,home_www_start:ne.default,challenge_www_start:re.default,tmp_images:ae.default,profile_medical_carousel:ue.default,claims_summary:se.default,profile_top:pe.default,profile_care_team:de.default,search_results_resources_and_benefits:ye.default,search_results_related_care:be.default,bieber:me.default,profile_insurance_card:Oe.default,find_care_top_carousel_2:Pe.default,benefits_carousel:Se.default,home_activity_carousel:Te.default,find_care_immediate_care:Me.default,profile_start_care_team:Ae.default,profile_start_top:De.default,profile_rewards_summary:Re.default,profile_my_interests:He.default,notifications:We.default,profile_active_programs:$e.default,titles:Be.default,todo_card:Ge.default},"notifications",We.default),io(i,"profile_active_programs",$e.default),io(i,"healthy_dos",Je.default),io(i,"separators",Ke.default),io(i,"home_cards",et.default),io(i,"rewards_carousel",nt.default),io(i,"health_assessment",rt.default),io(i,"hsa_balance",at.default),io(i,"home_recent_claims_new",ut.default),io(i,"events",st.default),io(i,"newsfeed",ft.default),io(i,"top_nav",pt.default),io(i,"top_social",gt.default),io(i,"social_feed_post",dt.default),io(i,"social_feed_blog",_t.default),io(i,"social_feed_other_posts",yt.default),io(i,"rewards_balance",ht.default),io(i,"low_back",bt.default),io(i,"dosage_calculator",vt.default),io(i,"medication_options",mt.default),io(i,"search_and_disclaimer",wt.default),io(i,"top_nav_cab",Ot.default),io(i,"top_nav_pcorp",Pn.default),io(i,"daily_activities_cab",kt.default),io(i,"personalized_for_you_cab",Pt.default),io(i,"home_plan_status_cab",jt.default),io(i,"home_fund_balance_cab",St.default),io(i,"home_recent_claims_cab",Et.default),io(i,"home_your_care_team_cab",Tt.default),io(i,"home_company_updates_cab",qt.default),io(i,"header_nav",Mt.default),io(i,"subheader_nav",xt.default),io(i,"sign_out_cab",At.default),io(i,"profile_disclaimer_cab",Lt.default),io(i,"full_tmp_image",Dt.default),io(i,"rewards_gift_cards_cab",Ct.default),io(i,"interesting_reads_cab",Rt.default),io(i,"trending_cab",Ft.default),io(i,"shortcuts_cab",Ht.default),io(i,"settings_cab",It.default),io(i,"rewards_active_programs_cab",Wt.default),io(i,"blog_content",Nt.default),io(i,"text_only",$t.default),io(i,"program_top",Xt.default),io(i,"top_image_nav",Qt.default),io(i,"program_at_a_glance",Ut.default),io(i,"program_activity",Bt.default),io(i,"program_contacts",Yt.default),io(i,"button_only",Gt.default),io(i,"program_points",zt.default),io(i,"insurance_card_dynamic",Jt.default),io(i,"program_calendar",Vt.default),io(i,"program_completed",Kt.default),io(i,"store_credit_cab",Zt.default),io(i,"hsa_balance_cab",en.default),io(i,"home_plan_status_new",tn.default),io(i,"trending_now_cab",nn.default),io(i,"top_header",on.default),io(i,"office_visit",rn.default),io(i,"separators_claims",an.default),io(i,"separators_incentives",kn.default),io(i,"top_incentive",un.default),io(i,"plan_status_spending",cn.default),io(i,"interesting_reads_one_article",ln.default),io(i,"interesting_reads_one_story",sn.default),io(i,"interactive_survey",fn.default),io(i,"fixed_header",pn.default),io(i,"core_entry",gn.default),io(i,"cta_only",dn.default),io(i,"fixed_header_lang_picker",_n.default),io(i,"intro_community",yn.default),io(i,"ways_to_earn_top",hn.default),io(i,"incentive_category",bn.default),io(i,"tmp_image_with_report_option",vn.default),io(i,"ios_popup",mn.default),io(i,"tmp_image_with_left_right_hotspot",wn.default),io(i,"full_screen_overflow_hidden_image",On.default),io(i,"milestone_reward",jn.default),io(i,"full_screen_video",Sn.default),io(i,"countdown_top",En.default),io(i,"countdown_action",Tn.default),io(i,"countdown_tracker_link",qn.default),io(i,"logo_only",Mn.default),io(i,"spring_challenge",xn.default),io(i,"intro_community_live",An.default),io(i,"community_top_left_right_hotspot",Ln.default),io(i,"community_message_live",Dn.default),io(i,"how_it_works_incentive",Cn.default),io(i,"benefit_details",Rn.default),io(i,"fund_balance_combined",Fn.default),io(i,"plan_status_details",Hn.default),io(i,"linked_trackers",In.default),io(i,"full_screen_hidden_card",Wn.default),io(i,"community_carousel",Nn.default),io(i,"community_interests_slide",$n.default),io(i,"your_care_team_search",Xn.default),io(i,"recent_claim_details",Qn.default),io(i,"deductibles_breakdown",Un.default),io(i,"esi_alert",Bn.default),io(i,"points_balance",Yn.default),io(i,"rewards_top",Gn.default),io(i,"rewards_gift_cards_pcorp",zn.default),io(i,"rewards_disclaimer",Jn.default),io(i,"why_urgent_care",Vn.default),io(i,"personal_challenges",Kn.default),io(i,"global_chat",Zn.default),io(i,"shortcuts_health_goals_selector",eo.default),io(i,"siri_card",to.default),io(i,"rewards_history",no.default),io(i,"search_results_top_definition",k.default),io(i,"browse_for_care",j.default),io(i,"three_things_you_should_know",E.default),io(i,"find_pcp_providers",q.default),io(i,"your_coverage",x.default),io(i,"profile_rewards_summary",Re.default),io(i,"todo_nav",Qe.default),io(i,"pcp_details_top",oo.default),i),a.current_tab=null,a.autosuggest=null,a.previous={home:0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.tab?e.tab:"home";return new Promise(function(r,i){e.dev?e.config.skin.logo=n.db(e.config.skin.logo):e.config.skin.logo=n.dd(""+e.config.skin.domain,e.config.skin.logo),n.current_tab=o+"_"+e.config.skin.persona.time,"german"===e.config.language&&(e.config.skin.persona[n.current_tab]=e.config.skin.persona[n.current_tab].filter(function(e){return"german"==e.language})),"chinese"===e.config.language&&(e.config.skin.persona[n.current_tab]=e.config.skin.persona[n.current_tab].filter(function(e){return"chinese"==e.language})),"spanish"===e.config.language&&(e.config.skin.persona[n.current_tab]=e.config.skin.persona[n.current_tab].filter(function(e){return"spanish"==e.language})),""!==e.config.language&&"english"!==e.config.language||(e.config.skin.persona[n.current_tab]=e.config.skin.persona[n.current_tab].filter(function(e){return null===e.language})),n.cardtypes=e.config.skin.persona[n.current_tab]?e.config.skin.persona[n.current_tab].map(function(e){return n.classes[e.type]?new n.classes[e.type](""+e.type,""+e.name,n):void 0}):i(n.current_tab+" is undefined"),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,e).then(function(t){return n.init_nav(t,e,o,i)}).then(function(t){return n.init_autosuggest(t,e)}).then(function(e){r(e)}).catch(function(e){return console.log(e)})})}},{key:"init_first_interstitial",value:function(e,t){var n=this;return new Promise(function(o,r){"start"==t.config.skin.persona.time&&t.config.skin.persona.interstitial_start&&(t.config.skin.persona.bieber_start=t.config.skin.persona.interstitial_start,n.init(t,"bieber").catch(function(e){return console.log(e)})),o(e)})}},{key:"show_autosuggest",value:function(e,t){var n=e.config.skin.persona.autosuggest.filter(function(e){return t==e.trigger})[0];Array.from(this.section.querySelectorAll('[data-type="autosuggest"]')).forEach(function(e){return e.remove()}),n&&this.autosuggest.init(n,this.section.querySelector("main"),e)}},{key:"init_autosuggest",value:function(e,t){var n=this;return new Promise(function(o,r){n.section.querySelector("input").oninput=function(e){return n.show_autosuggest(t,e.target.value.toLowerCase())},n.autosuggest=new N.default("autosuggest",null,n),o(e)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(o,i){var a=void 0;(a="castlight_web"===t.app_name?r.section.querySelectorAll("header .tab_web"):Array.from(r.section.querySelectorAll("footer .tab"))).forEach(function(e){return e.onclick=function(e){return r.init(t,e.currentTarget.getAttribute("data-name")).catch(function(e){return i(r.current_tab+" is undefined")})}}),r.show_tab(a,r.section.querySelector('[data-name="'+n+'"]')?r.section.querySelector('[data-name="'+n+'"]'):n,t),r.section.querySelector("footer .hack")&&(r.section.querySelector("footer .hack").innerHTML=t.config.skin.persona["notifications_"+t.config.skin.persona.time].filter(function(e){return"read"!=e.label_plan_status}).length),"castlight_web"!==t.app_name&&(t.config.skin.persona.home_progress&&(r.section.querySelector(".ffw").onclick=function(e){return r.toggleTime(t)}),t.config.skin.persona.home_progress&&"sandbox"==t.config.skin.name&&(r.section.querySelector(".logo").onclick=function(e){return r.toggleTime(t)}),r.section.querySelector(".logout").onclick=function(e){return location.reload()},t.config.skin.persona["todo_"+t.config.skin.persona.time]&&t.config.skin.persona["todo_"+t.config.skin.persona.time].filter(function(e){return"incentive"==e.caption_fsa}).length>0&&(r.section.querySelector("header .left").onclick=function(e){r.init(t,"home").catch(function(e){return console.log(e)})}),r.section.querySelectorAll(".high_touch .close_box .icon, .high_touch .cta_box .cta").forEach(function(e){return e.onclick=function(e){var t=r.section.querySelector(".high_touch"),n=window.innerHeight;(new TimelineMax).add(TweenMax.to(t.querySelector(".blue_box"),1,{y:n,ease:Quint.easeIn,onComplete:function(e){t.classList.remove("on")}}))}}),"main_pcorp"===t.config.skin.name&&(r.section.querySelector("header .arrow").onclick=function(){return r.init(t,"home")}),"pinnacle_cab"===t.config.skin.name&&(r.section.querySelector("header .left").onclick=function(){return r.init(t,"home")}),"pcorp"===t.config.skin.style&&"ways_to_earn"==n&&(r.section.querySelector("header .right").onclick=function(e){return r.section.querySelector("main").classList.add("popup_mode")}),"pcorp"===t.config.skin.style&&"rewards"==n&&(r.section.querySelector("header .left").onclick=function(){return r.init(t,"ways_to_earn")},r.section.querySelector("header .right").onclick=function(){return r.init(t,"rewards_history")}),"pcorp"===t.config.skin.style&&"rewards_history"==n&&(r.section.querySelector("header .left").onclick=function(){return r.init(t,"rewards")}),"pcorp"===t.config.skin.style&&"plan_details"==n&&(r.section.querySelector("header .left").onclick=function(){return r.init(t,"home")}),"primary_care_aetna"==r.section.getAttribute("data-search-name")&&"blog"==r.section.getAttribute("data-homepage-tab")&&(r.section.querySelector("header .left").onclick=function(){return r.init(t,"sr")})),o(e)})}},{key:"toggleTime",value:function(e){this.previous.home=0,e.config.ways_to_earn.first=!1,e.config.ways_to_earn.ready=!1,e.config.ways_to_earn.home=!0,e.config.ways_to_earn.ways_to_earn_point=[],e.config.ways_to_earn.ways_to_earn_incentive=[],"start"==e.config.skin.persona.time?e.config.skin.persona.time="progress":"progress"==e.config.skin.persona.time&&e.config.skin.persona.home_end?e.config.skin.persona.time="end":(e.config=$.extend(!0,{},this.origin.config),e.config.skin.persona.time="start"),e.config.skin.persona["interstitial_"+e.config.skin.persona.time]?(e.config.skin.persona["bieber_"+e.config.skin.persona.time]=e.config.skin.persona["interstitial_"+e.config.skin.persona.time],this.init(e,"bieber").catch(function(e){return console.log(e)})):this.init(e,"home").catch(function(e){return console.log(e)})}},{key:"init_cards",value:function(e,t){var n=this;return new Promise(function(o,r){n.init_card(0,o,t,e)})}},{key:"init_card",value:function(e,t,n,o){var r=this;if(null!=n.config.skin.persona[this.current_tab])if("castlight_web"===n.app_name){n.config.skin.persona[this.current_tab][e].is_mobile=!1;var i=n.config.skin.persona[this.current_tab][e].web_position;i&&this.cardtypes[e].init(n.config.skin.persona[this.current_tab][e],this.section.querySelector(".container_web "+i),n).then(function(o){e+1<r.cardtypes.length?r.init_card(r.cardtypes[e+1]?e+1:e+2,t,n):t("#homepage ready")}).catch(function(t){return console.log(n.config.skin.persona[r.current_tab][e+1].type+" is undefined")})}else n.config.skin.persona[this.current_tab][e].is_mobile=!0,this.cardtypes[e].init(n.config.skin.persona[this.current_tab][e],this.section.querySelector("main"),n).then(function(o){e+1<r.cardtypes.length?r.init_card(r.cardtypes[e+1]?e+1:e+2,t,n):t("#homepage ready")}).catch(function(t){return console.log(n.config.skin.persona[r.current_tab][e+1].type+" is undefined")});else t(this.current_tab+" is undefined")}},{key:"show_tab",value:function(e,t,n){var o=this,r=t.classList?t.getAttribute("data-name"):t;switch(e.forEach(function(e){return e.classList.remove("on")}),t.classList&&t.classList.add("on"),this.current_tab=r+"_"+n.config.skin.persona.time,this.section.setAttribute("data-homepage-tab",r),"bieber"!==r&&"blog"!==r&&(n.config.pagination=[]),-1===n.config.pagination.indexOf(r)&&(3===n.config.pagination.length?(n.config.pagination.splice(0,1),n.config.pagination.push(r)):n.config.pagination.push(r)),this.section.setAttribute("data-bieber-name",null),this.section.setAttribute("data-package",n.config.skin.persona.package),Array.from(this.section.querySelectorAll("main .card")).forEach(function(e){return e.remove()}),this.section.querySelector("header input").setAttribute("placeholder","Condition, procedure or specialty"),r){case"todo":this.section.querySelector("header .title").innerHTML="Your Rewards Journey";break;case"plan_details":this.section.querySelector("header .title").innerHTML="Plan Status";break;case"more":"german"===n.config.language?this.section.querySelector("header .title").innerHTML="Mehr für Sie":"chinese"===n.config.language?this.section.querySelector("header .title").innerHTML="更多内容":"spanish"===n.config.language?this.section.querySelector("header .title").innerHTML="Más":this.section.querySelector("header .title").innerHTML="More for You";break;case"benefits":"german"===n.config.language?this.section.querySelector("header .title").innerHTML="Leistungen":"chinese"===n.config.language?this.section.querySelector("header .title").innerHTML="优势":"spanish"===n.config.language?this.section.querySelector("header .title").innerHTML="Beneficios":this.section.querySelector("header .title").innerHTML=r;break;case"ways_to_earn":this.section.querySelector("header .title").innerHTML="Ways to Earn";break;case"rewards":this.section.querySelector("header .title").innerHTML=r,this.section.querySelector("header .right .icon_i").innerHTML="History";break;case"rewards_history":this.section.querySelector("header .title").innerHTML="Rewards History";break;case"notifications":"german"===n.config.language?this.section.querySelector("header .title").innerHTML="Benachrichtigungen":"chinese"===n.config.language?this.section.querySelector("header .title").innerHTML="通知":"spanish"===n.config.language?this.section.querySelector("header .title").innerHTML="Notificaciones":this.section.querySelector("header .title").innerHTML=r;break;default:this.section.querySelector("header .title").innerHTML=r}"primary_care_aetna"==this.section.getAttribute("data-search-name")&&"blog"==this.section.getAttribute("data-homepage-tab")&&(this.section.querySelector("header .title").innerHTML="more results"),"castlight_web"===n.app_name&&(this.section.querySelector(".container_web .title_web").innerHTML=r),"wellbeing_home_benefits_notifications_more"==n.config.skin.persona.package&&n.config.skin.persona["notifications_"+n.config.skin.persona.time]&&(this.section.querySelector(".new_notification").classList.add("off"),this.section.querySelector("footer .hack").innerHTML=n.config.skin.persona["notifications_"+n.config.skin.persona.time].filter(function(e){return"read"!==e.label_plan_status}).length),"complete_cab_int"!==n.config.skin.name&&"dell_int"!==n.config.skin.name&&"new_pinnacle_int"!==n.config.skin.name&&"wellbeing_int"!==n.config.skin.persona.package||(this.section.querySelector(".hack").innerHTML="3"),"german"===n.config.language&&(this.section.querySelector('footer [data-name="home"] .label').innerHTML="Startseite",this.section.querySelector('footer [data-name="benefits"] .label').innerHTML="Leistungen",this.section.querySelector('footer [data-name="notifications"] .label').innerHTML="Benachrichtigungen",this.section.querySelector('footer [data-name="more"] .label').innerHTML="Mehr"),"chinese"===n.config.language&&(this.section.querySelector('footer [data-name="home"] .label').innerHTML="主页",this.section.querySelector('footer [data-name="benefits"] .label').innerHTML="优势",this.section.querySelector('footer [data-name="notifications"] .label').innerHTML="通知",this.section.querySelector('footer [data-name="more"] .label').innerHTML="更多"),"spanish"===n.config.language&&(this.section.querySelector('footer [data-name="home"] .label').innerHTML="Inicio",this.section.querySelector('footer [data-name="benefits"] .label').innerHTML="Beneficios",this.section.querySelector('footer [data-name="notifications"] .label').innerHTML="Notificaciones",this.section.querySelector('footer [data-name="more"] .label').innerHTML="Más"),this.init_cards(status,n).then(function(e){console.log("["+o.current_tab+"] ready")})}}]),t}();t.default=ao},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(1)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.origin=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){var n=this;return new Promise(function(o,r){e.dev?e.config.skin.tracker.image=n.db(e.config.skin.tracker.image):e.config.skin.tracker.image=n.dd("tracker/connect",e.config.skin.tracker.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,e).then(function(e){o(e)}).then(function(t){return n.init_nav(t,e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t){var n=this;return new Promise(function(o,r){var a=void 0;n.section.querySelector('[data-name="connect_now"]').onclick=function(){(a=new i.default("#tracker_access",!0,n.origin)).init(t).then(function(e){console.log(e),a.play()}).catch(function(e){return console.log(e)})},o(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.type=t,this.source=document.querySelector("#intro_"+t+"_template").innerHTML,this.template=Handlebars.compile(this.source)}return o(e,[{key:"init",value:function(e,t){var n=this;return new Promise(function(o,r){n.add_intro(e,t).then(function(e){o(e)}).catch(function(e){return console.log(e)})})}},{key:"add_intro",value:function(e,t){var n=this;return new Promise(function(o,r){var i=document.createElement("main");i.setAttribute("data-type",n.type),i.innerHTML=n.template(t),e.appendChild(i),o(intro.name+" added to #"+e.parentNode.getAttribute("id"))})}},{key:"db",value:function(e){return e.split("https://www.dropbox.com").length>1?"https://dl.dropboxusercontent.com"+e.split("https://www.dropbox.com")[1]:e}},{key:"dd",value:function(e,t){return cordova.file.dataDirectory+(e.replace(/ /g,"")+"/")+t.split("?dl=0")[0].split("/")[t.split("?dl=0")[0].split("/").length-1]+"?_="+Date.now()}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(1)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.origin=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){var n=this;return new Promise(function(o,r){e.dev?e.config.skin.tracker.image_access=n.db(e.config.skin.tracker.image_access):e.config.skin.tracker.image_access=n.dd("tracker/access",e.config.skin.tracker.image_access),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,e).then(function(t){return n.init_nav(t,e)}).then(function(e){o(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t){var n=this;return new Promise(function(o,r){Array.from(n.section.querySelectorAll(".toggle")).forEach(function(e){return e.onclick=function(e){return n.toggle(e.currentTarget)}}),n.section.querySelector(".turn_categories_on").onclick=function(e){return n.toggle_all(e.currentTarget)},n.section.querySelector(".header .allow").onclick=function(e){new i.default("#homepage",!0,t,n.origin).init(t).then(function(e){return console.log(e)}).catch(function(e){return console.log(error)})},o(e)})}},{key:"toggle",value:function(e){Array.from(e.classList).includes("on")?e.classList.remove("on"):(e.classList.add("on"),this.section.querySelector(".container").classList.add("is_allowed")),Array.from(this.section.querySelector(".dietary_energy .toggle").classList).includes("on")||Array.from(this.section.querySelector(".steps .toggle").classList).includes("on")||(this.section.querySelector(".container").classList.remove("is_allowed"),this.section.querySelector(".turn_categories_on_info").innerHTML="Turn All Categories On"),Array.from(this.section.querySelector(".dietary_energy .toggle").classList).includes("on")&&Array.from(this.section.querySelector(".steps .toggle").classList).includes("on")&&(this.section.querySelector(".turn_categories_on_info").innerHTML="Turn All Categories Off")}},{key:"toggle_all",value:function(e){Array.from(e.classList).includes("is_off")?(e.querySelector(".turn_categories_on_info").innerHTML="Turn All Categories Off",e.classList.remove("is_off"),Array.from(this.section.querySelectorAll(".toggle")).forEach(function(e){return e.classList.add("on")}),this.section.querySelector(".container").classList.add("is_allowed")):(e.querySelector(".turn_categories_on_info").innerHTML="Turn All Categories On",e.classList.add("is_off"),Array.from(this.section.querySelectorAll(".toggle")).forEach(function(e){return e.classList.remove("on")}),this.section.querySelector(".container").classList.remove("is_allowed"))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.config.skin.persona.company_name&&(e.company=o.config.skin.persona.company_name.toUpperCase(),e.title=e.title.replace(/{{company}}/g,e.company)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){if("castlight_web"!==o.app_name){if(t.cta&&(n.querySelector("[data-id="+r.id+"] .cta").onclick=function(e){var n=t.target_cards;if(o.config.target_cards=n,n){o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(o.config.target_cards));var i=n.filter(function(e){return"program_activity"==e.type});i.length>0&&(o.config.programs[i[0].category]||(o.config.programs[i[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}}),"info"===t.label_plan_status){Array.from(n.querySelectorAll("[data-id="+r.id+"] .info_icon_box")).forEach(function(e){return e.onclick=function(t){e.parentNode.parentNode.parentNode.querySelector(".rewards_info_popup").classList.add("show"),e.parentNode.parentNode.parentNode.querySelector(".rewards_info_popup").addEventListener("touchmove",function(e){e.preventDefault(),e.stopPropagation()})}});var c=n.querySelector("[data-id="+r.id+"] .rewards_details");c.onclick=function(e){return c.parentNode.classList.remove("show")}}"healthyblue_app"==o.app_name&&(n.querySelector("[data-id="+r.id+"] .info_icon_box").onclick=function(e){document.querySelector(".homepage_popup").classList.add("on")},document.querySelector(".homepage_popup .button").onclick=function(e){document.querySelector(".homepage_popup").classList.remove("on")})}i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.photo=r.db(o.config.skin.persona.photo):e.photo=r.dd(o.config.skin.name.toLowerCase()+"/"+o.config.skin.persona.name.toLowerCase(),o.config.skin.persona.photo),o.config.skin.persona["notifications_"+o.config.skin.persona.time]&&(r.homepage.section.querySelector("header .new_notification .number").innerHTML=o.config.skin.persona["notifications_"+o.config.skin.persona.time].filter(function(e){return"read"!=e.label_plan_status}).length),o.app_name,e.current_date=o.config.skin.persona["date_"+o.config.skin.persona.time]?", "+o.config.skin.persona["date_"+o.config.skin.persona.time]:null,e.current_points=o.config.skin.persona["points_"+o.config.skin.persona.time],o.config.skin.persona["todo_"+o.config.skin.persona.time]&&(e.total=o.config.skin.persona["todo_"+o.config.skin.persona.time].length-1),e.username=o.config.skin.persona.name,e.gradient_color=o.config.skin.gradient_color,e.initials=o.config.skin.persona.name.split("")[0].toUpperCase()+o.config.skin.persona.last_name.split("")[0].toUpperCase(),"incentive"==e.caption_fsa&&(e.is_incentive=!0),"points"==e.caption_fsa&&(e.is_points=!0),null==e.caption_fsa&&(e.is_default=!0),"german"===e.language&&(e.is_german=!0),"chinese"===e.language&&(e.is_chinese=!0),"spanish"===e.language&&(e.is_spanish=!0),null!==o.config.skin.persona["message_"+o.config.skin.persona.time]&&(e.is_message=!0,e.message=o.config.skin.persona["message_"+o.config.skin.persona.time]),e.label_fsa&&(e.label_fsa=e.label_fsa.replace(/{{total}}/,o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"todo_card"==e.type}).map(function(e){return Number(e.points.split("$")[1])}).reduce(function(e,t){return e+t}))),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"total_points",value:function(e){var t=0;for(var n in e)t+=e[n].points;return t}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){if("castlight_web"!==o.app_name){if(o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"weekly"===e.label_store_credit}).length>0){var c=o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"weekly"===e.label_store_credit}).map(function(e){return Number(e.points.split("$")[1])}).reduce(function(e,t){return e+t});r.homepage.section.querySelector(".incentive .middle .label").innerHTML="<b>Earn up to $"+c+" per week</b><br> just by making healthy choices"}"main_pcorp"===o.config.skin.name&&(n.querySelector(".activity_points.incentive").classList.add("stretch"),n.querySelector(".learn_topnav_box").style.display="flex"),"care_guidance"===o.config.skin.persona.package&&(n.querySelector("[data-id="+r.id+"] .greetings").classList.add("bottom"),n.querySelector("[data-id="+r.id+"] .activity_points").classList.add("hide")),n.querySelector("[data-id="+r.id+"] .activity_points").onclick=function(e){if(o.todos_month=t.current_date,t.target_tab){if("todo"==t.target_tab)o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"todo_card"==e.type});r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)})}else t.target?(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})):t.target_search?(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})):t.target_cards&&(o.config.skin.persona["rewards_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"rewards").catch(function(e){return console.log(e)}))},r.homepage.section.querySelector("header .new_notification .hotspot").onclick=function(e){r.homepage.init(o,"notifications").catch(function(e){return console.log(e)})},r.homepage.section.querySelector(".comm .icon").onclick=function(e){r.homepage.init(o,"community").catch(function(e){return console.log(e)})}}i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"castlight_web"!==o.app_name&&(n.querySelector('[data-type="home_plan_status_cab"]').onclick=function(e){t.target_cards&&(o.config.skin.persona["plan_details_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"plan_details").catch(function(e){return console.log(e)}))}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.is_setup=o.config.manual_tracking.first_time&&"core"==e.title,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"hidden"===t.status&&n.querySelector("[data-id="+r.id+"]").classList.add("hide"),n.querySelector("[data-id="+r.id+"] .button").onclick=function(e){if("save_button"==r.id){["steps","food","sleep"].forEach(function(e){return o.config.manual_tracking.calendar.filter(function(e){return e.time==n.querySelector(".date").innerHTML})[0][e]=""==n.querySelector("[data-activity-category="+e+"] .total").innerHTML?0:n.querySelector("[data-activity-category="+e+"] .total").innerHTML}),n.classList.add("lightboxed"),n.querySelector('[data-type="cta_only" ] .overlay').classList.add("on")}else o.config.target_cards.filter(function(e){return"program_activity"===e.type})[0].status="complete",t.target_search&&(o.config.skin.persona[r.homepage.current_tab]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_cards&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"castlight_web"!==o.app_name&&r.init_card_click(t,n,o),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(1)),i=(a(n(4)),a(n(3)),a(n(13)));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.scroll=null,r.front=null,r.back=null,r.origin=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){var n=this;return new Promise(function(o,r){e.dev?(e.config.skin.logo=n.db(e.config.skin.logo),e.config.skin.persona.onboarding?(e.config.skin.persona.onboarding.forEach(function(e){return e.image=n.db(e.image)}),e.config.skin.onboarding=e.config.skin.persona.onboarding):e.config.skin.onboarding.forEach(function(e){return e.image=n.db(e.image)})):(e.config.skin.logo=n.dd(""+e.config.skin.domain,e.config.skin.logo),e.config.skin.persona.onboarding?(e.config.skin.persona.onboarding.forEach(function(e){return e.image=n.dd("public/home",e.image)}),e.config.skin.onboarding=e.config.skin.persona.onboarding):e.config.skin.onboarding.forEach(function(e){return e.image=n.dd("public/home",e.image)})),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,e).then(function(t){return n.init_carousel(e,t)}).then(function(t){return n.init_nav(t,e)}).then(function(e){o(e)}).catch(function(e){return console.log(e)})})}},{key:"init_carousel",value:function(e,t){var n=this;return new Promise(function(o,r){var i=n;e.config.skin.persona.onboarding&&Array.from(n.section.querySelectorAll("#onboarding_web .carousel .slide")).forEach(function(t){e.config.skin.persona.onboarding.filter(function(e){return t.getAttribute("data-slide")==e.type}).length>0||n.section.querySelector("[data-slide="+t.getAttribute("data-slide")+"]").parentNode.removeChild(n.section.querySelector("[data-slide="+t.getAttribute("data-slide")+"]"))}),n.front=n.section.querySelector('[data-layer="front"]'),n.back=n.section.querySelector('[data-layer="back"]'),n.scroll=new IScroll("#onboarding_web .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),n.scroll.on("scroll",function(t){i.update(e,this)}),n.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),Array.from(n.section.querySelectorAll('[data-slide="doctors"] .doctor, [data-slide="goals"] .goal')).forEach(function(e,t){e.addEventListener("BOX_TAPPED",function(t){Array.from(e.classList).includes("active")?e.classList.remove("active"):e.classList.add("active")})}),n.scroll.on("scrollEnd",function(e){var t=i.scroll.currentPage.pageX;Array.from(i.section.querySelectorAll(".static .dot_web")).forEach(function(e){e.classList.remove("active_dot")}),i.section.querySelector(".dot_web:nth-child("+(t+1)+")").classList.add("active_dot"),i.section.setAttribute("data-onboarding-web-current-slide",t)}),1==Array.from(n.section.querySelectorAll(".static .dot_web")).length&&n.section.querySelector(".static .dots_web").classList.add("hidden"),o(t)})}},{key:"update",value:function(e,t){var n=4*$(window).width();TweenMax.to(this.back,1,{x:200*-Math.abs(t.x/n),ease:Quint.easeOut}),TweenMax.to(this.front,1,{x:400*-Math.abs(t.x/n),ease:Quint.easeOut})}},{key:"init_nav",value:function(e,t){var n=this;return new Promise(function(o,r){Array.from(n.section.querySelectorAll('[data-name="next"]')).forEach(function(e){return e.onclick=function(){var e=n.scroll.currentPage.pageX;e+1<n.scroll.pages.length?n.scroll.goToPage(e+1,0,500,IScroll.utils.ease.circular):new i.default("#homepage_web",!0,t,n.origin).init(t).then(function(e){return console.log(e)}).catch(function(e){return console.log(error)})}}),o(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=P(n(1)),i=P(n(173)),a=P(n(174)),c=P(n(175)),u=P(n(176)),l=P(n(177)),s=P(n(178)),f=P(n(179)),p=P(n(180)),g=P(n(181)),d=P(n(182)),_=P(n(183)),y=P(n(184)),h=P(n(185)),b=P(n(186)),v=P(n(187)),m=P(n(8)),w=P(n(7)),O=P(n(11)),k=P(n(9));function P(e){return e&&e.__esModule?e:{default:e}}var j=function(e){function t(e,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var P=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return P.origin=r,P.classes={tmp_images_web:i.default,home_plan_status_web:a.default,home_fund_balance_web:c.default,your_claims_web:u.default,store_credit_web:f.default,separators_web:l.default,daily_activities_web:s.default,your_care_team_web:p.default,personalized_for_you_web:g.default,company_updates_web:d.default,earn_points_web:_.default,interesting_reads_web:y.default,footer_web:h.default,search_results_tabs_web:b.default,autosuggest_web:v.default,top_nav_cab:m.default,separators:w.default,store_credit_cab:O.default,home_plan_status_cab:k.default},P.current_tab=null,P.autosuggest=null,P.previous={home:0},P}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.tab?e.tab:"home";return new Promise(function(r,i){e.dev?e.config.skin.logo=n.db(e.config.skin.logo):e.config.skin.logo=n.dd(""+e.config.skin.domain,e.config.skin.logo),n.current_tab=o+"_"+e.config.skin.persona.time,n.cardtypes=e.config.skin.persona[n.current_tab]?e.config.skin.persona[n.current_tab].map(function(e){return n.classes[e.type]?new n.classes[e.type](""+e.type,""+e.name,n):void 0}):i(n.current_tab+" is undefined"),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,e).then(function(t){return n.init_nav(t,e,o,i)}).then(function(t){return n.init_autosuggest(t,e)}).then(function(e){r(e)}).catch(function(e){return console.log(e)})})}},{key:"show_autosuggest",value:function(e,t){var n=e.config.skin.persona.autosuggest.filter(function(e){return t==e.trigger})[0];Array.from(this.section.querySelectorAll('[data-type="autosuggest_web"]')).forEach(function(e){return e.remove()}),n&&this.autosuggest.init(n,this.section.querySelector("main"),e)}},{key:"init_autosuggest",value:function(e,t){var n=this;return new Promise(function(o,r){n.section.querySelector("input").oninput=function(e){return n.show_autosuggest(t,e.target.value.toLowerCase())},n.autosuggest=new v.default("autosuggest_web",null,n),o(e)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(o,i){var a=Array.from(r.section.querySelectorAll("footer .tab"));a.forEach(function(e){return e.onclick=function(e){return r.init(t,e.currentTarget.getAttribute("data-name")).catch(function(e){return i(r.current_tab+" is undefined")})}}),r.show_tab(a,r.section.querySelector('[data-name="'+n+'"]')?r.section.querySelector('[data-name="'+n+'"]'):n,t),r.section.querySelectorAll(".category").forEach(function(e){return e.onclick=function(e){return r.init(t,e.currentTarget.getAttribute("data-name")).catch(function(e){return i(r.current_tab+" is undefined")})}}),o(e)})}},{key:"toggleTime",value:function(e){this.previous.home=0,"start"==e.config.skin.persona.time?e.config.skin.persona.time="progress":"progress"==e.config.skin.persona.time&&e.config.skin.persona.home_end?e.config.skin.persona.time="end":(e.config=$.extend(!0,{},this.origin.config),e.config.skin.persona.time="start"),e.config.skin.persona["interstitial_"+e.config.skin.persona.time]?(e.config.skin.persona["bieber_"+e.config.skin.persona.time]=e.config.skin.persona["interstitial_"+e.config.skin.persona.time],this.init(e,"bieber").catch(function(e){return console.log(e)})):this.init(e,"home").catch(function(e){return console.log(e)})}},{key:"init_cards",value:function(e,t){var n=this;return new Promise(function(o,r){n.init_card(0,o,t,e)})}},{key:"init_card",value:function(e,t,n,o){var r=this;if(null!=n.config.skin.persona[this.current_tab]){var i=n.config.skin.persona[this.current_tab][e].category;this.cardtypes[e].init(n.config.skin.persona[this.current_tab][e],this.section.querySelector(""+i),n).then(function(o){e+1<r.cardtypes.length?r.init_card(r.cardtypes[e+1]?e+1:e+2,t,n):t("#homepage ready")}).catch(function(t){return console.log(n.config.skin.persona[r.current_tab][e+1].type+" is undefined")})}else t(this.current_tab+" is undefined")}},{key:"show_tab",value:function(e,t,n){var o=t.classList?t.getAttribute("data-name"):t;e.forEach(function(e){return e.classList.remove("on")}),t.classList&&t.classList.add("on"),this.current_tab=o+"_"+n.config.skin.persona.time,this.section.setAttribute("data-homepage-web-tab",o),this.section.setAttribute("data-bieber-name",null),this.section.setAttribute("data-package",n.config.skin.persona.package),Array.from(this.section.querySelectorAll("main .card")).forEach(function(e){return e.remove()}),this.init_cards(status,n).then(function(e){})}}]),t}();t.default=j},function(e,t,n){"use strict";var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(15),a=(o=i)&&o.__esModule?o:{default:o};Handlebars.registerHelper("equal",function(e,t,n,o){if(t==n)return o.fn(e)});var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"init",value:function(e){new a.default("#home").init().then(function(e){console.log(e)}).catch(function(e){return console.log(e)})}},{key:"debug",value:function(){console.log(this.config)}}]),e}();$(function(){FastClick.attach(document.body),(new c).init()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=_(n(1)),i=_(n(16)),a=_(n(17)),c=_(n(171)),u=_(n(2)),l=_(n(4)),s=_(n(6)),f=_(n(3)),p=_(n(172)),g=_(n(12)),d=_(n(13));function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.reference={},o.language="",o.origin={},o.previous_tab=null,o.previous_scroll_position=null,o.downloaded=null,o.debug={status:!1,email:"susan@aetna.com",page:"homepage",app_name:"castlight_app"},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(){var e=this;return new Promise(function(n,o){e.init_cordova("#home ready").then(function(n){return e.reference.dev?e.debug.app_name=document.referrer.includes("healthyblue-mobile")?"healthyblue_app":e.debug.app_name:cordova.file.applicationDirectory.split("Healthy").length>1&&(e.debug.app_name="healthyblue_app"),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",e).call(e,{is_healthy_blue:"healthyblue_app"==e.debug.app_name})}).then(function(t){return e.init_nav(t)}).then(function(t){return e.reference.dev?new Promise(function(e,n){return e(t)}):e.init_activate_local(t)}).then(function(t){var n=e;return e.reference.dev?("castlight.surge.sh"==location.hostname||"castlight_web"===n.debug.app_name?document.querySelector("body > section").setAttribute("data-app-name","castlight_web"):document.querySelector("body > section").setAttribute("data-app-name",n.debug.app_name),new Promise(function(e,n){"castlight-iframe.surge.sh"==location.hostname?(window.addEventListener("message",function(o){"https://castlight-mobile.surge.sh"==o.origin?(document.querySelector("body > section").setAttribute("data-app-name","castlight_app"),e(t)):"https://engage-mobile.surge.sh"==o.origin?(document.querySelector("body > section").setAttribute("data-app-name","engage_app"),e(t)):"https://healthyblue-mobile.surge.sh"==o.origin?(document.querySelector("body > section").setAttribute("data-app-name","healthyblue_app"),e(t)):(document.querySelector("body").innerHTML="Access denied",n("not authorized"))},!1),window.parent.postMessage("ping","https://castlight-mobile.surge.sh"),window.parent.postMessage("ping","https://engage-mobile.surge.sh"),window.parent.postMessage("ping","https://healthyblue-mobile.surge.sh")):e(t)})):cordova.file.applicationDirectory?(document.querySelector("body > section").setAttribute("data-app-name",cordova.file.applicationDirectory.split("Castlight.app").length>1?"castlight_app":cordova.file.applicationDirectory.split("Healthy").length>1?"healthyblue_app":"engage_app"),$.getJSON(cordova.file.dataDirectory+"log.json?_="+Date.now())):(document.querySelector("body > section").setAttribute("data-app-name","castlight_web"),new Promise(function(e,n){return e(t)}))}).then(function(t){if(e.downloaded=t,e.reference.tab=e.debug.status?e.debug.tab:null,e.reference.app_name=document.querySelector("body > section").getAttribute("data-app-name"),"castlight_app"==e.reference.app_name&&(e.section.querySelector("[data-name=email]").value="alvin@pinnacle.com"),"engage_app"==e.reference.app_name&&(e.section.querySelector("[data-name=email]").value="molly@acme.com"),"healthyblue_app"==e.reference.app_name&&(e.section.querySelector("[data-name=email]").value="susan@healthyblue.com"),e.debug.status)return e.init_activate(e.debug.page);n(t)}).catch(function(e){return console.log(e)})})}},{key:"check_cordova_file_dataDirectory",value:function(e,t){var n=this;console.log("checking...");setTimeout(function(){try{cordova.file.dataDirectory&&(e(t),n.reference.dev=!1,console.log(cordova.file.dataDirectory),console.log("[mobile] mode"))}catch(o){console.log(o),n.check_cordova_file_dataDirectory(e,t)}},100)}},{key:"init_cordova",value:function(e){var t=this;return new Promise(function(n,o){try{cordova&&document.addEventListener("deviceready",function(){cordova.plugins.backgroundMode.enable(),console.log("[backgroundMode] ready"),t.check_cordova_file_dataDirectory(n,e)})}catch(o){console.log("[dev] mode"),t.reference.dev=!0,n(e)}})}},{key:"init_nav",value:function(e){var t=this;return new Promise(function(n,o){t.section.querySelector('[data-name="configurator"]').onclick=function(){new i.default("#configurator").init(t.reference).then(function(e){console.log(e)})},t.section.querySelector('[data-name="register"]').onclick=function(e){return t.section.querySelector(".register_container").classList.add("on")},t.section.querySelector('[data-name="sso_flow"]')&&(t.section.querySelector('[data-name="sso_flow"]').onclick=function(e){return t.section.querySelector(".homepage_sso_container").classList.add("on")},t.section.querySelectorAll(".homepage_sso_container .section").forEach(function(e){return e.onclick=function(t){e.classList.contains("show")&&null!==e.nextElementSibling?(e.classList.remove("show"),e.nextElementSibling.classList.add("show")):location.reload()}})),t.section.querySelector('[data-name="chat_window"]').onclick=function(e){return t.section.querySelector(".chat_window_container").classList.add("on")},t.section.querySelector('[data-name="register_german"]').onclick=function(e){t.section.querySelector(".register_german_container").classList.add("on"),t.section.querySelector(".homepage_german_container").classList.remove("on")},t.section.querySelector('[data-name="register_chinese"]').onclick=function(e){t.section.querySelector(".register_chinese_container").classList.add("on"),t.section.querySelector(".homepage_chinese_container").classList.remove("on")},t.section.querySelector('[data-name="register_spanish"]').onclick=function(e){t.section.querySelector(".register_spanish_container").classList.add("on"),t.section.querySelector(".homepage_spanish_container").classList.remove("on")},t.section.querySelectorAll('[data-name="language"]').forEach(function(e){return e.onclick=function(e){t.section.querySelector(".languages_container").classList.add("on"),t.section.querySelector(".languages_container").style.zIndex=2}}),t.section.querySelector('[data-action="lang_back"]').onclick=function(e){"english"===t.language||""===t.language?(t.section.querySelector(".languages_container").classList.remove("on"),t.section.querySelector(".homepage_german_container").classList.remove("on"),t.section.querySelector(".homepage_chinese_container").classList.remove("on"),t.section.querySelector(".homepage_spanish_container").classList.remove("on")):(t.section.querySelector(".homepage_german_container").classList.remove("on"),t.section.querySelector(".homepage_chinese_container").classList.remove("on"),t.section.querySelector(".homepage_spanish_container").classList.remove("on"),t.section.querySelector(".homepage_"+t.language+"_container").classList.add("on"),t.section.querySelector(".languages_container").classList.remove("on"))};var r=t.section.querySelectorAll(".lang");r.forEach(function(e){return e.onclick=function(n){var o=e.innerHTML.toLowerCase();t.language=o,r.forEach(function(e){return e.classList.remove("active")}),t.section.querySelector("[data-name="+o+"]").classList.add("active")}}),t.section.querySelector(".chat_window_container .slide").onclick=function(e){t.section.querySelector(".chat_window_container").classList.remove("on")},t.section.querySelector(".blue_left_arrow_register").onclick=function(e){t.section.querySelector(".register_container").classList.remove("on")},t.section.querySelector(".blue_left_arrow_register_german").onclick=function(e){t.section.querySelector(".register_german_container").classList.remove("on"),t.section.querySelector(".homepage_german_container").classList.add("on")},t.section.querySelector(".blue_left_arrow_register_chinese").onclick=function(e){t.section.querySelector(".register_chinese_container").classList.remove("on"),t.section.querySelector(".homepage_chinese_container").classList.add("on")},t.section.querySelector(".blue_left_arrow_register_spanish").onclick=function(e){t.section.querySelector(".register_spanish_container").classList.remove("on"),t.section.querySelector(".homepage_spanish_container").classList.add("on")},t.section.querySelector(".blue_left_arrow_tou").onclick=function(e){t.section.querySelector(".terms_of_use_container").classList.remove("on"),t.section.querySelector(".register_container").classList.add("on")},t.section.querySelector(".blue_left_arrow_ps").onclick=function(e){t.section.querySelector(".privacy_statement_container").classList.remove("on"),t.section.querySelector(".register_container").classList.add("on")},t.section.querySelector(".terms_of_use").onclick=function(e){t.section.querySelector(".register_container").classList.remove("on"),t.section.querySelector(".terms_of_use_container").classList.add("on")},t.section.querySelector(".privacy_statement").onclick=function(e){t.section.querySelector(".register_container").classList.remove("on"),t.section.querySelector(".privacy_statement_container").classList.add("on")},t.section.querySelector(".toggle").onclick=function(e){return t.section.querySelector(".toggle").classList.add("on")},t.section.querySelector(".toggle_german").onclick=function(e){return t.section.querySelector(".toggle_german").classList.add("on")},t.section.querySelector(".toggle_chinese").onclick=function(e){return t.section.querySelector(".toggle_chinese").classList.add("on")},t.section.querySelector(".toggle_spanish").onclick=function(e){return t.section.querySelector(".toggle_spanish").classList.add("on")},t.section.querySelectorAll('[data-name="sign_in"]').forEach(function(e){return e.onclick=function(){t.init_activate("intro").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})}}),t.section.querySelectorAll('[data-name="sign_in_register"]').forEach(function(e){return e.onclick=function(){t.init_activate("intro").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})}}),t.section.querySelector('[data-name="register_web"]').onclick=function(){t.init_activate("interstitial").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},t.section.querySelectorAll('[data-name="fingerprint"], .right').forEach(function(e){return e.onclick=function(){t.init_activate("homepage").then(function(e){console.log(e)}).catch(function(e){return console.log(e)})}}),t.section.querySelector(".password").onclick=function(){if(t.reference.dev);else{t.section.querySelector(".picker").classList.remove("hidden"),t.show_picker()}},"healthyblue_app"==t.debug.app_name&&(t.section.querySelector(".not_me").onclick=function(e){"false"==e.currentTarget.getAttribute("data-show")?(t.section.querySelectorAll(".email, .password, .configurator_box, .language_box").forEach(function(e){return e.classList.remove("off")}),e.currentTarget.setAttribute("data-show","true")):(t.section.querySelectorAll(".email, .password, .configurator_box, .language_box").forEach(function(e){return e.classList.add("off")}),e.currentTarget.setAttribute("data-show","false"))}),document.querySelector("body").onclick=function(e){return t.show_hotspot(home,e)},n(e)})}},{key:"cancel",value:function(){console.log("CANCELING")}},{key:"compare",value:function(e,t){var n=e.email.toUpperCase(),o=t.email.toUpperCase(),r=0;return n>o?r=1:n<o&&(r=-1),r}},{key:"show_picker",value:function(){var e=this,t={emails:[]};t.emails=this.downloaded.sort(this.compare),this.source_picker=document.querySelector("#picker_template").innerHTML,this.template_picker=Handlebars.compile(this.source_picker),this.section.querySelector(".picker").innerHTML=this.template_picker(t),Array.from(this.section.querySelectorAll(".picker .email")).forEach(function(t){return t.onclick=function(t){Array.from(e.section.querySelectorAll(".picker .email")).forEach(function(e){return e.classList.remove("on")}),t.currentTarget.classList.add("on")}}),this.section.querySelector(".picker .cancel").onclick=function(t){e.section.querySelector(".picker .box").remove()},this.section.querySelector(".picker .done").onclick=function(t){Array.from(e.section.querySelectorAll('[data-name="email"]')).forEach(function(t){return t.value=e.section.querySelector(".picker .email.on").innerHTML}),e.section.querySelector(".picker .box").remove()}}},{key:"check_user_folder",value:function(e,t,n,o){var r=this;n<e.length?resolveLocalFileSystemURL(cordova.file.dataDirectory+"/"+e[n],function(i){i.createReader().readEntries(function(i){return r.check_user_folder(e,t,n+1,[].concat(y(o),y(i)))})}):(o=o.filter(function(e){return e.isDirectory}).map(function(e,t){return Object.create({email:e.name+"@"+e.fullPath.split("/")[1],name:""+e.name,skin:""+e.fullPath.split("/")[1]})}),t(o))}},{key:"check_user_folders",value:function(e){var t=this;return new Promise(function(n,o){t.check_user_folder(e.map(function(e){return e.name}),n,0,[])})}},{key:"check_skin_folders",value:function(){return new Promise(function(e,t){resolveLocalFileSystemURL(cordova.file.dataDirectory,function(t){t.createReader().readEntries(function(t){return e(t)})})})}},{key:"show_hotspot",value:function(e,t){var n=document.querySelector("#hotspot");n.classList.remove("hidden"),TweenMax.set(n,{x:t.pageX-50,y:t.pageY-50}),TweenMax.to(n,.25,{scale:.7}),TweenMax.to(n,.25,{opacity:.8}),TweenMax.to(n,.25,{delay:.25,opacity:0}),TweenMax.to(n,.25,{delay:.25,scale:1,onComplete:function(){n.classList.add("hidden")}})}},{key:"init_activate_local",value:function(e){var t=this;return new Promise(function(n,o){t.check_skin_folders().then(function(e){return t.check_user_folders(e.filter(function(e){return"version.json"!=e.name&&"log.json"!=e.name&&".DS_Store"!=e.name&&"public"!=e.name&&"tracker"!=e.name}))}).then(function(t){n(e)}).catch(function(e){return alert(e)})})}},{key:"init_activate",value:function(e){var t=this;return new Promise(function(n,o){var r=t.debug.status?t.debug.email:Array.from(t.section.querySelectorAll('[data-name="email"],[data-name-web="email"]')).filter(function(e){return""!==e.value})[0].value.toLowerCase(),i=void 0;new Promise(function(e,t){return e()}).then(function(e){return $.getJSON(t.reference.dev?"https://castlight-db.herokuapp.com/config.json?email="+r+"&_="+Date.now():""+cordova.file.dataDirectory+(t.downloaded.length>0?t.downloaded.filter(function(e){return e.email==r})[0].path:null)+"/config.json?_="+Date.now())}).then(function(_){if(console.log(r),_.skin){switch(t.reference.config=_,_.skin.username=_.skin.persona.name.toLowerCase(),_.skin.domain=_.skin.persona.skin.toLowerCase(),_.skin.persona.first_name=_.skin.persona.name,_.skin.persona.last_name=_.skin.persona.last_name,_.skin.persona.time="start",_.events={},_.programs=[],_.language=t.language,_.clickthrough="",_.community={first:!0,new_post:{id:"new_message_sushi",visible:!1}},_.any=null,_.moment={now:moment()},_.luxon={now:luxon.DateTime.local()},_.manual_tracking={first_time:!0,first_reminder:!0,reminder_time:"Set a reminder",calendar:Array.from({length:7},function(e,t){return Object.create({time:moment().subtract(t,"days").format("MMM Do, YYYY"),steps:0,food:0,sleep:0})})},_.ways_to_earn={first:!0,ready:!1,home:!1,current_tab:_.skin.persona.ways_to_earn_default_tab,total_incentives:0,total_points:0,current_points:0,total_currently_earning:0,total_currently_earning_items:0,ways_to_earn_origin:[],ways_to_earn_incentive:[],ways_to_earn_point:[],incentive_start:[],incentive_progress:[],incentive_end:[],milestone_end:[]},_.pagination=[],t.origin.config=$.extend(!0,{},_),document.querySelector('[data-app="castlight"] .skin').setAttribute("data-skin",_.skin.persona.skin),document.querySelector('[data-app="castlight"] .skin').setAttribute("data-style",_.skin.style),document.querySelector('[data-app="castlight"] .skin').setAttribute("data-persona",_.skin.persona.first_name+" "+_.skin.persona.last_name),e){case"intro":t.reference.config.skin.persona.intro?new a.default("#intro",!0,t.origin).init(t.reference).then(function(e){console.log(e)}).catch(function(e){console.log(e)}):new u.default("#onboarding",!0,t.origin).init(t.reference).then(function(e){console.log(e)}).catch(function(e){console.log(error)});break;case"onboarding":new u.default("#onboarding",!0,t.origin).init(t.reference).then(function(e){console.log(e)}).catch(function(e){console.log(error)});break;case"interstitial":new p.default("#interstitial",!0,t.origin).init(t.reference).then(function(e){console.log(e)}).catch(function(e){console.log(error)});break;case"homepage_web":new d.default("#homepage_web",!0,t.origin).init(t.reference).then(function(e){console.log(e)}).catch(function(e){console.log(error)});break;case"onboarding_web":new g.default("#onboarding_web",!0,t.origin).init(t.reference).then(function(e){console.log(e)}).catch(function(e){console.log(error)});break;case"tracker":new l.default("#tracker",!0,t.origin).init(t.reference).then(function(e){console.log(e)}).catch(function(e){console.log(error)});break;case"tracker_access":new s.default("#tracker_access",!0,t.origin).init(t.reference,t.origin).then(function(e){console.log(e)}).catch(function(e){console.log(error)});break;case"why_castlight":new c.default("#why_castlight").init(t.reference).then(function(e){console.log(e)}).catch(function(e){console.log(error)});break;case"homepage":(i=new f.default("#homepage",!0,t.reference,t.origin)).init(t.reference).then(function(e){return i.init_first_interstitial(e,t.reference)}).then(function(e){console.log(e)}).catch(function(e){return console.log(e)});break;case"home":break;default:o("page "+e+" is undefined")}n(e)}else o("persona is undefined")}).catch(function(e){return console.log("config is undefined")})})}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),a=(o=i)&&o.__esModule?o:{default:o};function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.downloaded=[],o.personas=[],o.version=null,o.remote_version=null,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e){var n=this;return new Promise(function(o,r){n.init_json(e).then(function(e){return n.personas=e,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,e)}).then(function(t){return n.init_nav(t,e)}).then(function(e){return $.getJSON(cordova.file.dataDirectory+"log.json?_="+Date.now())}).then(function(e){return new Promise(function(t,o){n.downloaded=e,Array.from(n.section.querySelectorAll(".i_dot")).forEach(function(e){return e.setAttribute("data-i-dot-color","blank")}),Array.from(n.section.querySelectorAll(".persona")).filter(function(e){return n.downloaded.filter(function(t){return t.email==e.getAttribute("data-email")}).length>0}).map(function(e){return e.querySelector(".i_dot").setAttribute("data-i-dot-color","green")}),t(e)})}).then(function(e){return $.getJSON(cordova.file.applicationDirectory+"www/v.json?_="+Date.now())}).then(function(t){return n.version="castlight_app"==e.app_name?t.complete:"healthyblue_app"==e.app_name?t.healthyblue:t.engage}).then(function(e){return $.getJSON("https://castlight-db.herokuapp.com/version?_="+Date.now())}).then(function(t){return n.remote_version="castlight_app"==e.app_name?t.complete:"healthyblue_app"==e.app_name?t.healthyblue:t.engage}).then(function(t){console.log(n.version,n.remote_version,n.version==n.remote_version),n.section.querySelector(".version").innerHTML=n.version==n.remote_version?"v"+n.version:"v"+n.version+" <a href=\"javascript: window.open('"+("castlight_app"==e.app_name?"https://castlight-sko.surge.sh/":"healthyblue_app"==e.app_name?"https://castlight-healthyblue.surge.sh":"https://engage-demo.surge.sh/")+"', '_system');\">("+n.remote_version+" available!)</a>",n.section.querySelector(".label_version").innerHTML="v"+n.remote_version,n.section.querySelector(".version_box").classList.add(n.version==n.remote_version?"":"on"),o(t)}).catch(function(e){console.log("log is undefined")})})}},{key:"compare",value:function(e,t){var n=e.email.toUpperCase(),o=t.email.toUpperCase(),r=0;return n>o?r=1:n<o&&(r=-1),r}},{key:"init_json",value:function(e){var t=this;return new Promise(function(e,n){$.getJSON("https://castlight-db.herokuapp.com/config/personas?_="+Date.now()).then(function(n){var o={};o.personas=n.sort(t.compare),"engage_app"==document.querySelector('[data-app="castlight"]').getAttribute("data-app-name")?o.personas=o.personas.filter(function(e){return"engage_elite_buy_up"==e.package||"engage_no_community"===e.package||"wellbeing_engage"===e.package}):o.personas=o.personas.filter(function(e){return"engage_elite_buy_up"!=e.package||"engage_no_community"!==e.package||"wellbeing_engage"!==e.package}),e(o)})})}},{key:"create_dir",value:function(e){var t=this;return new Promise(function(n,o){t.create_dir_api(e,n,e.split("/"),0,"")})}},{key:"create_dir_api",value:function(e,t,n,o,r){var i=this;try{resolveLocalFileSystemURL(cordova.file.dataDirectory+r,function(a){a.getDirectory(n[o],{create:!0},function(){r+="/"+n[o],o+1<n.length?i.create_dir_api(e,t,n,o+1,r):t(e)},function(){})})}catch(e){console.log("cordova is not defined")}}},{key:"download_file",value:function(e,t){var n=this;return new Promise(function(o,r){try{(new FileTransfer).download(e,encodeURI(cordova.file.dataDirectory+t+("config"==e.split("/")[e.split("/").length-1]?"":"/")+e.split("/")[e.split("/").length-1]),function(t){o(e.split("/")[e.split("/").length-1]+" complete")},function(e){n.section.querySelector(".error_box").classList.add("on"),n.section.querySelector(".error_box .description").innerHTML="Missing file: "+e.source+"<br>Code: 404",console.log("download error source "+e.source),console.log("download error target "+e.target),console.log("download error code"+e.code)},!0)}catch(e){TweenMax.killAll(!0),console.log("cordova is not defined")}})}},{key:"update",value:function(e){this.download_file("https://castlight-db.herokuapp.com/config.json","").then(function(e){console.log(e)}).then(function(e){})}},{key:"download_one_image",value:function(e,t,n,o,r,i){var a=this;n[e].image?(this.section.querySelector('[data-status="'+i+'"] .status').innerHTML=e+1+"/"+t,this.download_file(this.db(n[e].image),r).then(function(){e+1<t?a.download_one_image(e+1,t,n,o,r,i):o("Images done!")})):this.download_file(this.db(n[e]),r).then(function(){e+1<t?a.download_one_image(e+1,t,n,o,r,i):o("Images done!")})}},{key:"download_images",value:function(e,t,n,o,r){var i=this;return new Promise(function(e,a){i.download_one_image(0,t,n,e,o,r)})}},{key:"flatten",value:function(e){for(var t=0;t<e.length;Array.isArray(e[t])&&e.splice.apply(e,[t,1].concat(c(e[t])))||t++);return e}},{key:"download",value:function(e){var t=this,n=[];if(console.log(e),this.section.querySelector(".progress").classList.add("on"),this.section.querySelector(".progress").classList.remove("complete"),this.section.querySelector(".progress").classList.remove("clean"),this.section.querySelector(".progress").classList.remove("why"),this.section.querySelector('[data-status="why"] .status').innerHTML="",this.section.querySelector('[data-status="core"] .status').innerHTML="",this.section.querySelector('[data-status="stream"] .status').innerHTML="",this.section.querySelector('[data-status="search"] .status').innerHTML="",this.section.querySelector('[data-status="epilogue"] .status').innerHTML="",this.section.querySelector('[data-status="carousel"] .status').innerHTML="",this.section.querySelector('[data-status="flow"] .status').innerHTML="","Why Castlight?"==e){this.section.querySelector(".progress").classList.add("why");var o={},r=void 0;this.download_file("https://castlight-db.herokuapp.com/walkthrough.json?_="+Date.now(),"").then(function(e){return console.log(e),$.getJSON(cordova.file.dataDirectory+"/walkthrough.json?_="+Date.now())}).then(function(e){return r=(o=e).walkthrough.length,t.download_images(0,r,o.walkthrough,"public/walkthrough","why")}).then(function(e){TweenMax.killAll(!0),console.log("All images have been downloaded!"),t.section.querySelector(".progress").classList.add("complete")}).catch(function(e){return console.log(e)})}else{var i=e.split("@")[0].toLowerCase(),a=e.split("@")[1].toLowerCase(),u={},l=null;new Promise(function(e,t){return e()}).then(function(){return $.getJSON("https://castlight-db.herokuapp.com/config.json?email="+e+"&_="+Date.now())}).then(function(n){return u=n,i=n.skin.persona.name.toLowerCase(),a=n.skin.name.replace(/ /g,"").toLowerCase(),l=n.skin.persona.ts,t.downloaded.forEach(function(t){return t.email==e?t.ts=l:t}),0==t.downloaded.filter(function(e){return e.ts==l}).length&&t.downloaded.push({email:e,path:a+"/"+i,skin:a,persona:i,ts:n.skin.persona.ts}),console.log(t.downloaded),t.download_file("https://castlight-db.herokuapp.com/config.json?email="+e+"&_="+Date.now(),a+"/"+i)}).then(function(e){return $.getJSON(""+cordova.file.dataDirectory+a+"/"+i+"/config.json?_="+Date.now())}).then(function(e){return t.download_file(t.db(u.skin.logo),""+a)}).then(function(e){return u.skin.logo_alt?t.download_file(t.db(u.skin.logo_alt),""+a):new Promise(function(e,t){return e()})}).then(function(e){return u.skin.onboarding_image?t.download_file(t.db(u.skin.onboarding_image),""+a):new Promise(function(e,t){return e()})}).then(function(e){return u.skin.persona.photo?t.download_file(t.db(u.skin.persona.photo),a+"/"+i):new Promise(function(e,t){return e()})}).then(function(e){return u.skin.persona.program?t.download_file(t.db(u.skin.persona.program),"public/home"):new Promise(function(e,t){return e()})}).then(function(e){return u.skin.persona.intro?t.download_file(t.db(u.skin.persona.intro.article_img),"public/intro"):new Promise(function(e,t){return e()})}).then(function(e){return u.skin.tracker?t.download_file(t.db(u.skin.tracker.image),"tracker/connect"):new Promise(function(e,t){return e()})}).then(function(e){return u.skin.tracker&&u.skin.tracker.image_access?t.download_file(t.db(u.skin.tracker.image_access),"tracker/access"):new Promise(function(e,t){return e()})}).then(function(e){console.log("downloading...core");var t=[];for(var o in u.skin.persona)Array.isArray(u.skin.persona[o])&&"pregnancy"!=o&&(t=[].concat(c(t),c(u.skin.persona[o])));u.skin.onboarding&&(t=[].concat(c(t),c(u.skin.onboarding)));var r=t.filter(function(e){return e?e.image:null});return r=[].concat(c(r),c(t.filter(function(e){return e?e.avatar:null}).map(function(e){return e.avatar}).map(function(e){return Object.create({image:e})}))),r=[].concat(c(new Set(r.map(function(e){return e.image})))).map(function(e){return Object.create({image:e})}),console.log(t),n=[].concat(c(n),c(r)),new Promise(function(e,t){return e()})}).then(function(e){console.log("downloading...tmp_images");var t=[];for(var o in u.skin.persona)Array.isArray(u.skin.persona[o])&&"pregnancy"!=o&&(t=[].concat(c(t),c(u.skin.persona[o])));var r=t.filter(function(e){return e?"tmp_images"==e.type:null});return r=[].concat(c(new Set(r.map(function(e){return e.image})))).map(function(e){return Object.create({image:e})}),console.log(r),n=[].concat(c(n),c(r)),new Promise(function(e,t){return e()})}).then(function(e){console.log("downloading...target_cards");var o=[],r=[],i=[],a=[];for(var l in u.skin.persona)Array.isArray(u.skin.persona[l])&&"pregnancy"!=l&&(o=[].concat(c(o),c(u.skin.persona[l])));return o=o.filter(function(e){return e}),r=t.flatten(o.map(function(e){return e.target_cards})).filter(function(e){return e?e.image:null}),r=[].concat(c(r.map(function(e){return e.image?Object.create({image:e.image}):null})),c(t.flatten(r.map(function(e){if(e.target)return e.target.carousel.map(function(e){return Object.create({image:e})})})))),i=t.flatten(o.map(function(e){return e.target_cards})).filter(function(e){return e?e.target:null}),i=[].concat(c(t.flatten(i.map(function(e){if(e.target)return e.target.carousel.map(function(e){return Object.create({image:e})})})))),a=t.flatten(o.map(function(e){return e.target_cards})).filter(function(e){return e?e.target_cards:null}),a=[].concat(c(t.flatten(a.map(function(e){return e.target_cards})).map(function(e){return e.image?Object.create({image:e.image}):null}))),r=[].concat(c(r),c(t.flatten(t.flatten(o.map(function(e){return e.target_cards})).filter(function(e){return e}).map(function(e){return e.target}).filter(function(e){return e}).map(function(e){return e.target_cards})).filter(function(e){return e}).map(function(e){return e.epilogue}).filter(function(e){return e}).map(function(e){return e.image}).filter(function(e){return e}).map(function(e){return Object.create({image:e})}))),r=[].concat(c(r),c(t.flatten(t.flatten(o.map(function(e){return e.target_cards})).filter(function(e){return e}).map(function(e){return e.target}).filter(function(e){return e}).map(function(e){return e.target_cards})).filter(function(e){return e}).map(function(e){return e.image}).map(function(e){return Object.create({image:e})}))),o=[].concat(c(r.filter(function(e){return e})),c(i.filter(function(e){return e}))),o=[].concat(c(o),c(a.filter(function(e){return e}))),console.log(o),n=[].concat(c(n),c(o.filter(function(e){return e}))),new Promise(function(e,t){return e()})}).then(function(e){console.log("downloading...target_benefits");var o=[],r=[],i=[],a=[];for(var l in u.skin.persona)Array.isArray(u.skin.persona[l])&&"pregnancy"!=l&&(o=[].concat(c(o),c(u.skin.persona[l])));return o=o.filter(function(e){return e}),i=(r=t.flatten(t.flatten(o.map(function(e){return e.target_benefit})).filter(function(e){return e?e.actions:null}).map(function(e){return e.actions}))).filter(function(e){return e}).filter(function(e){return e.image}).map(function(e){return Object.create({image:e.image})}),a=t.flatten(r.filter(function(e){return e}).filter(function(e){return e.target}).map(function(e){return e.target.carousel})).filter(function(e){return e}).map(function(e){return Object.create({image:e})}),o=[].concat(c(i.filter(function(e){return e})),c(a.filter(function(e){return e}))),console.log(o),n=[].concat(c(n),c(o.filter(function(e){return e}))),new Promise(function(e,t){return e()})}).then(function(e){console.log("downloading...searches");var o=[];return u.skin.persona.autosuggest?(o=t.flatten(u.skin.persona.autosuggest.map(function(e){return e.cards})).filter(function(e){return e?"tmp_images"==e.type:null}),o=[].concat(c(o),c(t.flatten(u.skin.persona.autosuggest.map(function(e){return e.recommendations})).filter(function(e){return e?e.image:null}))),o=[].concat(c(o),c(t.flatten(u.skin.persona.autosuggest.map(function(e){return e.cards})).filter(function(e){return e?e.image:null}))),o=[].concat(c(o),c(t.flatten(t.flatten(u.skin.persona.autosuggest.map(function(e){return e.cards})).filter(function(e){return e.target?e.target:null}).map(function(e){return e.target.carousel})).map(function(e){return Object.create({image:e})}))),o=[].concat(c(o),c(t.flatten(t.flatten(u.skin.persona.autosuggest.map(function(e){return e.cards})).filter(function(e){return e.carousel?e.carousel:null}).map(function(e){return e.carousel})).filter(function(e){return e.image}))),o=[].concat(c(o),c(t.flatten(t.flatten(t.flatten(u.skin.persona.autosuggest.map(function(e){return e.cards})).filter(function(e){return e.carousel?e.carousel:null}).map(function(e){return e.carousel})).filter(function(e){return e.target}).map(function(e){return e.target.carousel})).map(function(e){return Object.create({image:e})}))),o=[].concat(c(new Set(o.map(function(e){return e.image})))).map(function(e){return Object.create({image:e})}),console.log(o),n=[].concat(c(n),c(o)),new Promise(function(e,t){return e()})):new Promise(function(e,t){return e()})}).then(function(e){console.log("downloading...epilogue");var t=[];for(var o in u.skin.persona)Array.isArray(u.skin.persona[o])&&"pregnancy"!=o&&(t=[].concat(c(t),c(u.skin.persona[o])));var r=(t=t.filter(function(e){return e})).filter(function(e){return e?e.epilogue:null}).map(function(e){return e.epilogue});return r=[].concat(c(new Set(r.map(function(e){return e.image})))).map(function(e){return Object.create({image:e})}),console.log(r),n=[].concat(c(n),c(r)),new Promise(function(e,t){return e()})}).then(function(e){console.log("downloading...carousel");var o=[],r=[];for(var i in u.skin.persona)Array.isArray(u.skin.persona[i])&&"pregnancy"!=i&&(o=[].concat(c(o),c(u.skin.persona[i])));return o=o.filter(function(e){return e}),r=t.flatten(o.filter(function(e){return e&&e.carousel?e.carousel:null}).map(function(e){return e.carousel})).map(function(e){return"program_screen"!=e.type&&"program_details"!=e.type&&"program_multiactions"!=e.type?e.image:null}).filter(function(e){return e}).map(function(e){return Object.create({image:e})}),r=[].concat(c(r),c(t.flatten(t.flatten(o.filter(function(e){return e&&e.carousel?e.carousel:null}).map(function(e){return e.carousel})).map(function(e){return e.target?e.target.carousel:null})).filter(function(e){return e}).map(function(e){return Object.create({image:e})}))),r=[].concat(c(new Set(r.map(function(e){return e.image})))).filter(function(e){return e}).map(function(e){return Object.create({image:e})}),console.log(r),n=[].concat(c(n),c(r)),n=[].concat(c(new Set(n.map(function(e){return e.image})))).map(function(e){return Object.create({image:e})}),new Promise(function(e,t){return e()})}).then(function(e){console.log("downloading...bieber");var o=[],r=[];for(var i in u.skin.persona)Array.isArray(u.skin.persona[i])&&"pregnancy"!=i&&(o=[].concat(c(o),c(u.skin.persona[i])));var a=(o=o.filter(function(e){return e})).filter(function(e){return e&&e.target?"bieber"==e.target.type:null});return r=[].concat(c(t.flatten(a.map(function(e){return e.target.carousel})).map(function(e){return Object.create({image:e})})),c(t.flatten(a.filter(function(e){return"bieber"==e.type}).map(function(e){return e.carousel})).map(function(e){return Object.create({image:e})}))),r=[].concat(c(r),c(t.flatten(a.filter(function(e){return e.target.target}).map(function(e){return e.target.target.carousel?e.target.target.carousel:null}).filter(function(e){return e})).map(function(e){return Object.create({image:e})}))),r=[].concat(c(r),c(t.flatten(a.filter(function(e){return"tmp_images"==e.type}).map(function(e){return e.target.target?e.target.target.carousel:null}).filter(function(e){return e})).map(function(e){return Object.create({image:e})}))),r=[].concat(c(r),c(t.flatten(o.filter(function(e){return"bieber"==e.type}).map(function(e){return e.carousel})).map(function(e){return Object.create({image:e})}))),r=[].concat(c(r),c(t.flatten(a.map(function(e){return e.target.target_cards}).filter(function(e){return e})).map(function(e){return Object.create({image:e.image})}).filter(function(e){return e.image}))),r=[].concat(c(r),c(t.flatten(t.flatten(a.map(function(e){return e.target.target_cards}).filter(function(e){return e})).filter(function(e){return e.target}).map(function(e){return e.target.carousel})).map(function(e){return Object.create({image:e})}))),r=[].concat(c(r),c(t.flatten(t.flatten(a.map(function(e){return e.target.target_cards}).filter(function(e){return e})).filter(function(e){return e.target}).map(function(e){return e.target.target_cards})).filter(function(e){return e}).map(function(e){return e.image}).map(function(e){return Object.create({image:e})}))),r=[].concat(c(new Set(r.map(function(e){return e.image})))).map(function(e){return Object.create({image:e})}),console.log(r),(n=[].concat(c(n),c(r))).length>0?t.download_images(0,n.length,n,"public/home","core"):new Promise(function(e,t){return e()})}).then(function(e){return t.init_activate_local(e)}).then(function(e){return t.save_logs()}).then(function(){return new Promise(function(e,n){Array.from(t.section.querySelectorAll(".i_dot")).forEach(function(e){return e.setAttribute("data-i-dot-color","blank")}),Array.from(t.section.querySelectorAll(".persona")).filter(function(e){return t.downloaded.filter(function(t){return t.email==e.getAttribute("data-email")}).length>0}).map(function(e){return e.querySelector(".i_dot").setAttribute("data-i-dot-color","green")}),e()})}).then(function(e){TweenMax.killAll(!0),console.log("All downloads complete"),t.section.querySelector(".progress").classList.add("complete")}).catch(function(e){return alert(e)})}}},{key:"init_activate_local",value:function(e){var t=this;return new Promise(function(e,n){t.check_skin_folders().then(function(e){return t.check_user_folders(e.filter(function(e){return"version.json"!=e.name&&"log.json"!=e.name&&".DS_Store"!=e.name&&"public"!=e.name&&"tracker"!=e.name}))}).then(function(t){e()}).catch(function(e){return console.log(e)})})}},{key:"check_user_folder",value:function(e,t,n,o){var r=this;n<e.length?resolveLocalFileSystemURL(cordova.file.dataDirectory+"/"+e[n],function(i){i.createReader().readEntries(function(i){return r.check_user_folder(e,t,n+1,[].concat(c(o),c(i)))})}):t()}},{key:"check_user_folders",value:function(e){var t=this;return new Promise(function(n,o){t.check_user_folder(e.map(function(e){return e.name}),n,0,[])})}},{key:"check_skin_folders",value:function(){return new Promise(function(e,t){resolveLocalFileSystemURL(cordova.file.dataDirectory,function(t){t.createReader().readEntries(function(t){return e(t)})})})}},{key:"save_version",value:function(e){return new Promise(function(t,n){resolveLocalFileSystemURL(cordova.file.dataDirectory,function(t){t.getFile("version.json",{create:!0,exclusive:!1},function(t){t.createWriter(function(t){t.onwriteend=function(){console.log("Successful file write...")},t.onerror=function(e){console.log("Failed file write: "+e.toString())};var n=new Blob(['[{"version":"'+e.version+'"}]'],{type:"text/json"});t.write(n)})},function(){})},function(){}),t()})}},{key:"save_logs",value:function(){var e=this;return new Promise(function(t,n){resolveLocalFileSystemURL(cordova.file.dataDirectory,function(t){t.getFile("log.json",{create:!0,exclusive:!1},function(t){t.createWriter(function(t){t.onwriteend=function(){console.log("Successful file write...")},t.onerror=function(e){console.log("Failed file write: "+e.toString())};var n=new Blob(["["+Array.from(e.downloaded).map(function(e){return'{"email":"'+e.email+'", "path":"'+e.path+'", "skin":"'+e.skin+'", "persona":"'+e.persona+'", "ts":"'+e.ts+'"}'})+"]"],{type:"text/json"});t.write(n)})},function(){})},function(){}),t()})}},{key:"launch",value:function(e){location.reload()}},{key:"delete",value:function(e){var t=this;console.log("deleting...");var n=this.section.querySelector(".progress");console.log("this downloaded"),console.log(this.downloaded),this.downloaded.filter(function(t){return t.email==e}).length>0&&resolveLocalFileSystemURL(cordova.file.dataDirectory,function(o){o.getDirectory(t.downloaded.filter(function(t){return t.email==e})[0].skin+"/"+t.downloaded.filter(function(t){return t.email==e})[0].persona,{create:!0,exclusive:!1},function(o){o.removeRecursively(function(){t.downloaded.splice(t.downloaded.findIndex(function(t){return t.email==e}),1),t.save_logs().then(function(){return new Promise(function(e,n){Array.from(t.section.querySelectorAll(".i_dot")).forEach(function(e){return e.setAttribute("data-i-dot-color","blank")}),Array.from(t.section.querySelectorAll(".persona")).filter(function(e){return t.downloaded.filter(function(t){return t.email==e.getAttribute("data-email")}).length>0}).map(function(e){return e.querySelector(".i_dot").setAttribute("data-i-dot-color","green")}),e()})}).then(function(e){console.log("Remove Recursively Succeeded"),console.log(t.downloaded),n.classList.add("on"),n.classList.add("clean"),n.classList.add("complete")})},function(){})},function(){})},function(){})}},{key:"info",value:function(e,t){console.log(e,t),this.section.querySelector(".info_box .product").innerHTML=e,this.section.querySelector(".info_box .description").innerHTML=t,this.section.querySelector(".info_box").classList.add("on")}},{key:"init_nav",value:function(e,t){var n=this;return new Promise(function(o,r){n.section.querySelector("[data-action=error_ok]").onclick=function(){return n.section.querySelector(".error_box").classList.remove("on")},n.section.querySelector("[data-action=not_now]").onclick=function(){return n.section.querySelector(".version_box").classList.remove("on")},n.section.querySelector("[data-action=update_now]").onclick=function(){return window.open("castlight_app"==t.app_name?"https://castlight-sko.surge.sh/":"healthyblue_app"==t.app_name?"https://castlight-healthyblue.surge.sh":"https://engage-demo.surge.sh/","_system")},Array.from(n.section.querySelectorAll("[data-action=download]")).forEach(function(e){return e.onclick=function(e){return n.download(e.target.closest(".persona").getAttribute("data-email"))}}),n.section.querySelector("[data-action=back]").onclick=function(){n.launch()},Array.from(n.section.querySelectorAll("[data-action=delete]")).forEach(function(e){return e.onclick=function(e){return n.delete(e.target.closest(".persona").getAttribute("data-email"))}}),Array.from(n.section.querySelectorAll("[data-action=info]")).forEach(function(e){return e.onclick=function(e){return n.info(e.target.closest(".persona").getAttribute("data-info-product"),e.target.closest(".persona").getAttribute("data-info-description"))}}),n.section.querySelector("[data-action=complete]").onclick=function(){n.section.querySelector(".progress").classList.remove("on"),n.section.querySelector(".progress").classList.remove("complete")},n.section.querySelector("[data-action=info_complete]").onclick=function(){n.section.querySelector(".info_box").classList.remove("on")},o(e)})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(1)),i=c(n(18)),a=c(n(170));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.origin=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){var n=this;return new Promise(function(o,r){var c=void 0;switch(e.config.skin.persona.intro.type){case"email":c=new a.default;break;case"push_notifications":c=new i.default}(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,e).then(function(t){return c.init(n.section,e)}).then(function(e){o(e)}).catch(function(e){return console.log(e)})})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(5)),i=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"push_notifications"));return e.minAgo=null,e.myint=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e,n){var o=this;return new Promise(function(r,i){o.minAgo=parseInt(n.config.skin.persona.intro.time),n.config.skin.persona.intro.livetime=moment().format("h:mm"),n.config.skin.persona.intro.livedate=moment().format("dddd, D MMM"),n.config.skin.persona.intro.livetime_ago=o.minAgo+"m ago",n.config.skin.persona.intro.article_img=n.dev?o.db(n.config.skin.persona.intro.article_img):o.dd("public/intro",n.config.skin.persona.intro.article_img),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",o).call(o,e,n).then(function(e){return o.init_layout(n)}).then(function(t){return o.init_nav(e,n)}).then(function(e){r(e)}).catch(function(e){return console.log(e)})})}},{key:"init_layout",value:function(e){var t=this;return new Promise(function(n,o){t.myint=setInterval(function(){t.minAgo++,e.config.skin.persona.intro.livetime=moment().format("h:mm"),e.config.skin.persona.intro.livetime_ago=t.minAgo+"m ago",document.querySelector(".livetime").innerHTML=e.config.skin.persona.intro.livetime,document.querySelector(".time-ago").innerHTML=e.config.skin.persona.intro.livetime_ago},6e4),n("push notifications ready")})}},{key:"init_nav",value:function(e,t){var n=this;return new Promise(function(o,r){e.querySelector('[data-name="connect_onboarding"]').onclick=function(e){clearInterval(n.myint),new i.default("#onboarding").init(t).then(function(e){console.log(e)}).catch(function(e){return console.log(error)})},o("push notifications ready")})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}},{key:"init_carousel",value:function(e,t){var n=this;return new Promise(function(o,r){var i=n;n.scroll=new IScroll("[data-id="+n.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),n.scroll.on("scroll",function(t){i.update(e,this)}),n.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),o(t)})}},{key:"update",value:function(e,t){var n=Math.trunc(Math.abs(t.x/t.wrapperWidth))+2;TweenMax.to("[data-id="+this.id+"] .static .bg:nth-child("+n+")",1,{opacity:Math.abs(t.x%t.wrapperWidth/t.wrapperWidth),ease:Quint.easeOut}),TweenMax.to("[data-id="+this.id+"] .static .description",1,{opacity:1-Math.abs(t.x/t.wrapperWidth),ease:Quint.easeOut}),TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth+t.wrapperWidth/2,ease:Quint.easeOut})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}},{key:"init_carousel",value:function(e,t){var n=this;return new Promise(function(o,r){var i=n;n.scroll=new IScroll("[data-id="+n.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),n.scroll.on("scroll",function(t){i.update(e,this)}),n.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),o(t)})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth+0*t.wrapperWidth/2,ease:Quint.easeOut})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}},{key:"init_carousel",value:function(e,t){var n=this;return new Promise(function(o,r){var i=n;n.scroll=new IScroll("[data-id="+n.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),n.scroll.on("scroll",function(t){i.update(e,this)}),n.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),o(t)})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth+0*t.wrapperWidth/2,ease:Quint.easeOut})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}},{key:"init_carousel",value:function(e,t){var n=this;return new Promise(function(o,r){var i=n;n.scroll=new IScroll("[data-id="+n.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),n.scroll.on("scroll",function(t){i.update(e,this)}),n.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),o(t)})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth+0*t.wrapperWidth/2+20,ease:Quint.easeOut})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.scroll=null,r.index=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_search&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .program")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search;(i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c)&&(o.config.skin.persona.autosuggest.filter(function(e){return e.name===c}).length>0?(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})):console.log("Include your target search to autosuggest in personas table"))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e,n)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel.map(function(e){return e.location=o.config.skin.persona.state+" "+o.config.skin.persona.zip}),e.carousel.map(function(e){return e.network="<network>"==e.group_number?o.config.skin.persona.occupation:e.group_number}),o.dev?(e.image=r.db(e.image),e.carousel.forEach(function(e){return e.image=r.db(e.image)})):(e.image=r.dd("public/home",e.image),e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)})),e.carousel.filter(function(e){return"updated"===e.group_title}).length>0&&e.carousel.map(function(e){return e.is_updated=!0}),e.carousel.map(function(e){"true"===e.schedule_appt&&(e.is_schedulable=!0)}),e.carousel.filter(function(e){return e.popup_content}).length>0&&e.carousel.filter(function(e){return e.popup_content}).map(function(e){return e.is_livepopup=!0}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .doctor, .schedule")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-name")||e.currentTarget.closest(".container_updated").querySelector(".doctor").getAttribute("data-name"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search;i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))}}),t.carousel.filter(function(e){return e.popup_content}).length>0&&(Array.from(n.querySelectorAll("[data-id="+r.id+"] .clinical_quality")).forEach(function(e){return e.onclick=function(t){e.parentNode.parentNode.parentNode.querySelector(".hospital_info_popup").classList.add("show")}}),Array.from(n.querySelectorAll("[data-id="+r.id+"] .exit_icon_box")).forEach(function(e){return e.onclick=function(t){e.parentNode.parentNode.parentNode.querySelector(".hospital_info_popup").classList.remove("show")}})),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_search&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e,n)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.recommendations.forEach(function(e){return e.image=r.db(e.image)}):e.recommendations.forEach(function(e){return e.image=r.dd("public/home",e.image)}),e.autosuggest=e.autosuggest.map(function(t){return"<span class=trigger>"+e.trigger+"</span><span class=copy>"+t.toLowerCase().split(e.trigger)[1]+"</span>"}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector('[data-type="autosuggest"]').onclick=function(){o.config.skin.persona["sr_"+o.config.skin.persona.time]=t.cards.filter(function(e){return e}),r.homepage.init(o,"sr").then(function(e){document.querySelector("#homepage header input").setAttribute("placeholder",t.display_text),document.querySelector("#homepage").setAttribute("data-search-name",t.name)}).catch(function(e){return console.log(e)})},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.label_one_title=r.db(e.label_one_title),e.label_two_sub_title=r.db(e.label_two_sub_title)):(e.label_one_title=r.dd("public/pcp_details",e.label_one_title),e.label_two_sub_title=r.dd("public/pcp_details",e.label_two_sub_title)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){o.config.skin.persona["program_"+o.config.skin.persona.time]=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.carousel)),r.homepage.init(o,"program").catch(function(e){return console.log(e)})},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.querySelector("[data-id="+r.id+"]").onclick=function(e){e.currentTarget.classList.add("hidden"),n.querySelector(".card:nth-child("+Array.from(n.querySelectorAll(".card")).length+")").getAttribute("data-id")==r.id&&r.homepage.init(o,"home").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.querySelector("[data-id="+r.id+"]").onclick=function(e){e.currentTarget.classList.add("hidden"),n.querySelector(".card:nth-child("+Array.from(n.querySelectorAll(".card")).length+")").getAttribute("data-id")==r.id&&r.homepage.init(o,"home").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.target_cards&&e.target_cards.forEach(function(e){return e.image=r.db(e.image)})):e.image=r.dd("public/home",e.image),e.target_cards?e.is_activities=!0:e.is_activities=!1,e.is_activities&&(e.activities=e.target_cards),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"castlight_web"!==o.app_name?n.querySelector("[data-id="+r.id+"]").onclick=function(e){if(r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),o.config.ways_to_earn.ready=!1,t.target_search&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_cards){o.config.target_cards=t.target_cards,o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(t.target_cards));var i=t.target_cards.filter(function(e){return"program_activity"==e.type});i.length>0&&(o.config.programs[i[0].category]||(o.config.programs[i[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}if(t.target_benefit){o.config.target_cards=t.target_benefit.actions,o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(t.target_benefit.actions));var a=t.target_benefit.actions.filter(function(e){return"program_activity"==e.type});a.length>0&&(o.config.programs[a[0].category]||(o.config.programs[a[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}if("benefits_cc"==t.name){var c=n.parentElement.querySelector(".high_touch"),u=window.innerHeight;c.classList.add("on"),c.querySelector(".title").innerHTML=t.label_one_title,c.querySelector(".description").innerHTML=t.label_one_sub_title,c.querySelector(".label_fsa").innerHTML=t.label_fsa,c.querySelector(".caption_fsa").innerHTML=t.caption_fsa,(new TimelineMax).add(TweenMax.to(c.querySelector(".blue_box"),1,{startAt:{y:u},y:0,ease:Quint.easeOut}))}}:(t.target_cards&&(o.config.clickthrough?t.name===o.config.clickthrough&&n.querySelector("[data-id="+o.config.clickthrough+"]").classList.add("active"):n.querySelector(".card .activities_wrapper").parentNode.classList.add("active"),n.querySelector("[data-id="+r.id+'] .activities_wrapper [data-type="program_at_a_glance"] .more_details').onclick=function(e){n.querySelector("[data-id="+r.id+'] .activities_wrapper [data-type="program_at_a_glance"] .collapse').classList.add("active"),n.querySelector("[data-id="+r.id+'] .activities_wrapper [data-type="program_at_a_glance"] .more_details').classList.add("hide")},n.querySelector("[data-id="+r.id+'] .activities_wrapper [data-type="program_at_a_glance"] .less_details').onclick=function(e){n.querySelector("[data-id="+r.id+'] .activities_wrapper [data-type="program_at_a_glance"] .collapse').classList.remove("active"),n.querySelector("[data-id="+r.id+'] .activities_wrapper [data-type="program_at_a_glance"] .more_details').classList.remove("hide")},t.activities.filter(function(e){return"program_activity"===e.type}).filter(function(e){return e.target||e.cta}).forEach(function(e){n.querySelector("[data-id="+r.id+"] .activities_wrapper [data-name="+e.name+"] .cta_button_box").classList.add("action"),e.cta||(n.querySelector("[data-id="+r.id+"] .activities_wrapper [data-name="+e.name+"] .cta_button_box .cta_button").innerHTML="GO")})),n.querySelector("[data-id="+r.id+"] .group_benefits").onclick=function(e){t.target_cards&&(n.querySelector(".card.active").classList.remove("active"),n.querySelector("[data-id="+r.id+"]").classList.add("active"),document.body.querySelector(".container_web").scrollTop=0)}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.querySelector("[data-id="+r.id+"]").onclick=function(e){e.currentTarget.classList.add("hidden"),n.querySelector(".card:nth-child("+Array.from(n.querySelectorAll(".card")).length+")").getAttribute("data-id")==r.id&&r.homepage.init(o,"home").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(t){return r.init_anim(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_anim",value:function(e,t,n,o){var r=this;return new Promise(function(t,o){TweenMax.to(n.querySelector("[data-id="+r.id+"] .floating_element"),1,{y:"10",repeat:-1,yoyo:!0,ease:Sine.easeInOut}),t(e)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.epilogue&&(o.config.skin.persona[r.homepage.current_tab]=o.config.skin.persona[r.homepage.current_tab].map(function(e){return e.name==r.id?t.epilogue:e})),o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=["0.png","1.png","2.png","3.png"],function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e,n)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.querySelector("[data-id="+r.id+"] .close").onclick=function(e){r.homepage.init(o,"home").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){if(r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),o.config.target_cards=t.target_cards,t.epilogue&&(o.config.skin.persona[r.homepage.current_tab]=o.config.skin.persona[r.homepage.current_tab].map(function(e){return e.name==r.id?t.epilogue:e})),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_search&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),t.target_cards){o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(o.config.target_cards));var n=t.target_cards.filter(function(e){return"program_activity"==e.type});n.length>0&&(o.config.programs[n[0].category]||(o.config.programs[n[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}t.target_cards&&"rewards_store"===t.category&&(o.config.skin.persona["rewards_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"rewards").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e,n)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}},{key:"init_carousel",value:function(e,t,n){var o=this;return new Promise(function(r,i){var a=o;o.scroll=new IScroll("[data-id="+o.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),o.scroll.on("scrollEnd",function(e){var t=a.scroll.currentPage.pageX;Array.from(n.querySelectorAll("[data-id="+a.id+"] .dot")).forEach(function(e){e.classList.remove("grey_dot")}),n.querySelector("[data-id="+a.id+"] .dot:nth-child("+(t+1)+")")&&n.querySelector("[data-id="+a.id+"] .dot:nth-child("+(t+1)+")").classList.add("grey_dot")}),o.scroll.on("scroll",function(t){a.update(e,this)}),o.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),r(t)})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth+0*t.wrapperWidth/2,ease:Quint.easeOut})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.label_fsa=r.db(e.label_fsa)):(e.image=r.dd("public/home",e.image),e.label_fsa=r.dd("public/home",e.label_fsa)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.label_one_caption=r.db(e.label_one_caption),e.label_two_caption=r.db(e.label_two_caption)):(e.label_one_caption=r.dd("public/profile",e.label_one_caption),e.label_two_caption=r.dd("public/profile",e.label_two_caption)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] [data-name]")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-name"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_cards,l=t.carousel.filter(function(e){return e.name===n})[0].target_benefit;if(i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=u,r.homepage.init(o,"blog").catch(function(e){return console.log(e)})),console.log(l),l){console.log("benefit"),o.config.target_cards=l.actions,o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(l.actions));var s=l.actions.filter(function(e){return"program_activity"==e.type});s.length>0&&(o.config.programs[s[0].category]||(o.config.programs[s[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.scroll=null,r.index=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel=e.carousel.map(function(e){return r.db(e)}):e.carousel=e.carousel.map(function(e){return r.dd("public/home",e)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e,n)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"show_target",value:function(e,t,n){var o=void 0;e.target_tab?this.homepage.init(n,""+e.target_tab).catch(function(e){return console.log(e)}):e.target?(n.config.skin.persona["bieber_"+n.config.skin.persona.time]=[e.target],this.homepage.init(n,"bieber").catch(function(e){return console.log(e)})):e.target_search?(n.config.skin.persona["sr_"+n.config.skin.persona.time]=n.config.skin.persona.autosuggest.filter(function(t){return t.name===e.target_search})[0].cards,this.homepage.init(n,"sr").catch(function(e){return console.log(e)})):e.target_cards?(n.config.skin.persona["blog_"+n.config.skin.persona.time]=e.target_cards,this.homepage.init(n,"blog").catch(function(e){return console.log(e)})):(o=n.config.pagination[n.config.pagination.length-2],this.homepage.init(n,""==o?"home":o).catch(function(e){return console.log(e)}))}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"] .right").onclick=function(e){"bieber_personal_challenges_water_last"===n.querySelector("[data-id="+r.id+"]").getAttribute("data-id")?r.homepage.init(o,"home"):r.show_target(t,n,o)},n.querySelectorAll("[data-id="+r.id+"] .slide").forEach(function(e){return e.onclick=function(e){r.index+1<r.scroll.pages.length?r.scroll.goToPage(++r.index,0,0):r.show_target(t,n,o)}}),n.querySelector("[data-id="+r.id+"] .left").onclick=function(e){r.index-1>-1?r.scroll.goToPage(--r.index,0,0):r.show_target(t,n,o)},i(e)})}},{key:"init_carousel",value:function(e,t,n){var o=this;return new Promise(function(n,r){var i=o;o.scroll=new IScroll("[data-id="+o.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),o.scroll.on("scroll",function(t){i.update(e,this)}),o.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),o.homepage.section.setAttribute("data-bieber-name",o.id),n(t)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e,n)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}},{key:"init_carousel",value:function(e,t,n){var o=this;return new Promise(function(r,i){var a=o;o.scroll=new IScroll("[data-id="+o.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),o.scroll.on("scrollEnd",function(e){var t=a.scroll.currentPage.pageX;Array.from(n.querySelectorAll("[data-id="+a.id+"] .dot")).forEach(function(e){e.classList.remove("grey_dot")}),n.querySelector("[data-id="+a.id+"] .dot:nth-child("+(t+1)+")")&&n.querySelector("[data-id="+a.id+"] .dot:nth-child("+(t+1)+")").classList.add("grey_dot")}),o.scroll.on("scroll",function(t){a.update(e,this)}),o.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),r(t)})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth+0*t.wrapperWidth/2,ease:Quint.easeOut})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e,n)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .slide")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search;(i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c)&&(o.config.skin.persona.autosuggest.filter(function(e){return e.name===c}).length>0?(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})):console.log("Include your target search to autosuggest in personas table"))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e,n)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){return r.init_carousel(o,e,n)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .slide")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search;i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .box")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search;(i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c)&&(o.config.skin.persona.autosuggest.filter(function(e){return e.name===c}).length>0?(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})):console.log("Include your target search to autosuggest in personas table"))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this,i=(o.config.skin.persona.email,o.config.skin.username),a=o.config.skin.persona.skin.toLowerCase();return new Promise(function(c,u){o.dev?e.photo=r.db(o.config.skin.persona.photo):e.photo=r.dd(a+"/"+i,o.config.skin.persona.photo),e.first_name=o.config.skin.persona.name,e.last_name=o.config.skin.persona.last_name,e.city=o.config.skin.persona.state,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){c(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(0));i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.origin={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),e.sandbox="sandbox"==o.config.skin.name,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_search&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] [data-name]")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-name");t.carousel&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){"german"===o.config.language&&(e.is_german=!0),"chinese"===o.config.language&&(e.is_chinese=!0),e.total=o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"todo_card"==e.type}).length,e.total_completed=o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"complete"==e.status}).length,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){r.homepage.section.querySelector("header .title").innerHTML=o.todos_month,"cab"==o.config.skin.style&&(r.homepage.section.querySelector("header .title").innerHTML="Rewards"),"german"===o.config.language&&(r.homepage.section.querySelector("header .title").innerHTML="Belohnungen"),"spanish"===o.config.language&&(r.homepage.section.querySelector("header .title").innerHTML="Recompensass"),"chinese"===o.config.language&&(r.homepage.section.querySelector("header .title").innerHTML="奖励"),t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.config.skin.persona.company_name&&(e.company=o.config.skin.persona.company_name.toUpperCase(),e.title=e.title.replace(/{{company}}/g,e.company)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.config.skin.persona.company_name&&(e.company=o.config.skin.persona.company_name,e.description=e.description.replace(/{{company}}/g,e.company)),o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),"incentive"==e.caption_fsa&&(e.is_incentive=!0),e.list&&(e.list_length=e.list.length),"incentive"===e.caption_fsa&&(e.list.length>1?e.activities=!0:e.activities=!1),"weekly"===e.label_store_credit&&(e.is_weekly=!0),"milestone"===e.label_three_caption&&(e.is_milestone=!0),e.target_cards?e.is_cta=!0:e.is_cta=!1,"rewards"==e.amount_plan_status&&(e.is_amount_plan_status=!0),"completed"==e.label_plan_status&&(e.is_rewards_complete=!0),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(t){return r.init_progress(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"removeDuplicates",value:function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}},{key:"init_progress",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"incentive"==t.caption_fsa&&(Array.from(n.querySelector("[data-id="+r.id+"]").querySelectorAll(".item")).forEach(function(e){if(o.config.programs[t.category]&&o.config.programs[t.category].completed_activities){var i=[];o.config.programs[t.category].completed_activities.forEach(function(e){return i.push(e.title)}),n.querySelector("[data-id="+r.id+"]").querySelector(".bar").style.width=r.removeDuplicates(i).length/t.list_length*100+"%",n.querySelector("[data-id="+r.id+"]").querySelector(".completed_items").innerHTML=r.removeDuplicates(i).length,o.config.programs[t.category].completed_activities.forEach(function(t){t.title.toLowerCase()===e.textContent.toLowerCase()&&e.classList.add("completed")})}}),"milestone"===t.label_three_caption?(n.querySelectorAll("[data-id="+r.id+"] .label").forEach(function(e){return e.style.display="none"}),"100%"==n.querySelector("[data-id="+r.id+"] .bar").style.width&&n.querySelector("[data-id="+r.id+"] .bar").classList.add("bar_completed"),null===o.config.skin.persona["incentives_"+o.config.skin.persona.time]&&n.querySelectorAll(".bar.bar_completed").length===o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"milestone"===e.label_three_caption}).length&&(null!==n.querySelector('[data-type="top_incentive"] .actual')&&(n.querySelector('[data-type="top_incentive"] .actual').innerHTML="$"+Number(o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"milestone"==e.label_three_caption}).map(function(e){return Number(e.points.split("$")[1])}).reduce(function(e,t){return e+t}))),document.querySelector(".popup").classList.add("yeah"),TweenMax.to(".yeah",1,{top:"0vh",ease:Quint.easeOut}),setInterval(function(){return TweenMax.to(".yeah",1,{top:"-10vh",ease:Quint.easeIn})},5e3)),o.config.skin.persona["incentives_"+o.config.skin.persona.time]&&n.querySelectorAll(".bar.bar_completed").length===o.config.skin.persona["incentives_"+o.config.skin.persona.time].filter(function(e){return"milestone"===e.label_three_caption}).length&&(document.querySelector(".popup").classList.add("yeah"),TweenMax.to(".yeah",1,{top:"0vh",ease:Quint.easeOut}),setInterval(function(){return TweenMax.to(".yeah",1,{top:"-10vh",ease:Quint.easeIn})},5e3))):"100%"==n.querySelector("[data-id="+r.id+"] .bar").style.width&&(n.querySelector('[data-type="top_incentive"] .actual').innerHTML="$"+Number(Number(n.querySelector('[data-type="top_incentive"] .actual').innerHTML.split("$")[1])+Number(t.points.split("$")[1])),n.querySelector("[data-id="+r.id+"] .dollar").classList.add("checked"),document.querySelector(".popup").classList.add("yeah"),TweenMax.to(".yeah",1,{top:"0vh",ease:Quint.easeOut}),setInterval(function(){return TweenMax.to(".yeah",1,{top:"-10vh",ease:Quint.easeIn})},5e3))),i(e)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"incentive"==t.caption_fsa?n.querySelector("[data-id="+r.id+"] .cta_get_started").onclick=function(e){var n=r.removeDuplicates(r.flatten(t.target_cards));if(o.config.target_cards=n,t.target&&(t.label_plan_status||(t.status="complete"),o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})),n){o.config.skin.persona["blog_"+o.config.skin.persona.time]=o.config.target_cards;var i=o.config.skin.persona["blog_"+o.config.skin.persona.time].filter(function(e){return"program_activity"==e.type});i.length>0&&(o.config.programs[i[0].category]||(o.config.programs[i[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}}:n.querySelector("[data-id="+r.id+"]").onclick=function(e){var n=t.target_cards;if(o.config.target_cards=n,t.target&&(t.label_plan_status||(t.status="complete"),o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})),n){o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(o.config.target_cards));var i=n.filter(function(e){return"program_activity"==e.type});i.length>0&&(o.config.programs[i[0].category]||(o.config.programs[i[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.title="start"==o.config.skin.persona.time?e.label_one_title:"progress"==o.config.skin.persona.time?e.label_two_title:e.label_three_title,o.todos_month=e.title,o.config.skin.persona["todo_"+o.config.skin.persona.time]?(e.total=o.config.skin.persona["todo_"+o.config.skin.persona.time].length-1,e.total_completed=o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"complete"==e.status}).length,e.tasks_left=e.total-e.total_completed,e.cards=o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"todo_card"==e.type})):e.visible=!1,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)})},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_search&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .layer")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-name");t.carousel&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.epilogue&&(o.config.skin.persona[r.homepage.current_tab]=o.config.skin.persona[r.homepage.current_tab].map(function(e){return e.name==r.id?t.epilogue:e})),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.first_name=o.config.skin.persona.name,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"castlight_web"!==o.app_name&&r.init_card_click(t,n,o),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.carousel.forEach(function(e){return e.image=r.db(e.image)})):(e.image=r.dd("public/home",e.image),e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)})),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] [data-name]")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-name"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search;i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.tween=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.program=r.db(o.config.skin.persona.program)):(e.image=r.dd("public/home",e.image),e.program=r.dd("public/home",o.config.skin.persona.program));var c=o.config.skin.persona["todo_"+o.config.skin.persona.time]?o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"complete"==e.status}).length/(o.config.skin.persona["todo_"+o.config.skin.persona.time].length-1):0;c=0==c?.05:c,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){r.update_smile(c)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"update_smile",value:function(e){return new Promise(function(t,n){var o=TweenMax.to("#mainMotionPath",3,{startAt:{drawSVG:"0%"},drawSVG:"100%",ease:Linear.easeNone}),r=new TimelineMax;r.add(o,0),r.pause(),TweenMax.to(r,3,{progress:e,ease:Quint.easeInOut}),t(status)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.querySelector("[data-id="+r.id+'] [data-tab="social"]').onclick=function(e){r.homepage.init(o,"social").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.tween=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image);o.config.skin.persona["todo_"+o.config.skin.persona.time]&&(o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"complete"==e.status}).length,o.config.skin.persona["todo_"+o.config.skin.persona.time].length);(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){r.update_smile(.65)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"update_smile",value:function(e){return new Promise(function(t,n){var o=TweenMax.to("#mainMotionPath",3,{startAt:{drawSVG:"0%"},drawSVG:"100%",ease:Linear.easeNone}),r=new TimelineMax;r.add(o,0),r.pause(),TweenMax.to(r,3,{progress:e,ease:Quint.easeInOut}),t(status)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.querySelector("[data-id="+r.id+'] [data-tab="dashboard"]').onclick=function(e){r.homepage.init(o,"home").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;o.config.skin.persona.email,o.config.skin.username,o.config.skin.persona.skin.toLowerCase();return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.avatar=r.db(e.avatar)):(e.image=r.dd("public/home",e.image),e.avatar=r.dd("public/home",e.avatar)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.avatar=r.db(e.avatar)):(e.image=r.dd("public/home",e.image),e.avatar=r.dd("public/home",e.avatar)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.carousel.forEach(function(e){return e.image=r.db(e.image)})):(e.image=r.dd("public/home",e.image),e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)})),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){r.homepage.section.setAttribute("data-top","top-hidden"),r.homepage.section.querySelector("header .title").innerHTML=t.title,r.homepage.section.querySelector("header .arrow").onclick=function(){r.homepage.init(o,"find_care"),r.homepage.section.removeAttribute("data-top")},n.querySelector("[data-id="+r.id+"]").onclick=function(e){t.target_search&&(o.config.skin.persona[r.homepage.current_tab]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),r.homepage.section.removeAttribute("data-top")},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){Array.from(r.homepage.section.querySelectorAll(".toggle_1, .toggle_2")).forEach(function(e){return e.onclick=function(e){r.toggle(e.currentTarget)}}),t(e)})}},{key:"toggle",value:function(e){Array.from(e.classList).includes("toggle_2")?(this.homepage.section.querySelector(".toggle_1").classList.remove("on"),e.classList.add("on")):(this.homepage.section.querySelector(".toggle_2").classList.remove("on"),e.classList.add("on"))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.scroll=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){var c=o.config.skin.persona["daily_activities_"+o.config.skin.persona.time];"german"===o.config.language&&(e.carousel=c.filter(function(e){return"german"===e.language})),"chinese"===o.config.language&&(e.carousel=c.filter(function(e){return"chinese"===e.language})),"spanish"===o.config.language&&(e.carousel=c.filter(function(e){return"spanish"===e.language})),""!==o.config.language&&"english"!==o.config.language||(e.carousel=c.filter(function(e){return null===e.language})?c.filter(function(e){return null===e.language}):null),o.dev?(e.carousel.forEach(function(e){return e.image=r.db(e.image)}),e.carousel.forEach(function(e){return e.avatar=r.db(e.avatar)})):(e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),e.carousel.forEach(function(e){return e.avatar=r.dd("public/home",e.avatar)})),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_carousel(t,e,n,o)}).then(function(t){return r.init_nav(t,e,n,o)}).then(function(t){return r.init_doughnuts(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));document.querySelector("[data-id="+this.id+"] .layers")&&TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth,ease:Quint.easeOut}),document.querySelector("[data-id="+this.id+"] .grey_dot")&&TweenMax.to("[data-id="+this.id+"] .grey_dot",1,{x:-t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .static .dots").clientWidth,ease:Quint.easeOut})}},{key:"init_doughnuts",value:function(e,t,n,o){var r=this;return new Promise(function(t,o){Array.from(n.querySelectorAll("[data-id="+r.id+"] .layer")).forEach(function(e){var t={v:0};e.querySelector(".circle")&&(TweenMax.to(e.querySelectorAll(".doughnut-wrapper path"),3,{startAt:{drawSVG:"0%"},drawSVG:e.querySelector(".circle").getAttribute("data-circle-prc")+"%",ease:Quint.easeInOut}),TweenMax.to(t,3,{v:""+Number(e.querySelector(".points").getAttribute("data-circle-points")),onUpdate:function(t){return e.querySelector(".points").innerHTML=t.v+" <span>"+e.querySelector(".points").getAttribute("data-circle-label")+"</span>"},onUpdateParams:[t],roundProps:"v",ease:Quint.easeInOut}))}),t(e)})}},{key:"init_carousel",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){var i=r;r.scroll=new IScroll("[data-id="+r.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),r.scroll.on("scroll",function(e){i.update(o,this)}),t(e)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"castlight_web"!==o.app_name&&Array.from(n.querySelectorAll("[data-id="+r.id+"] .slide .hotspot")).forEach(function(e,n){e.addEventListener("BOX_TAPPED",function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_cards;if(o.config.target_cards=u,t.carousel.filter(function(e){return e.name==n})[0].status="finished",i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u){o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(o.config.target_cards));var l=u.filter(function(e){return"program_activity"==e.type});l.length>0&&(o.config.programs[l[0].category]||(o.config.programs[l[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}})});i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.scroll=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){var c=o.config.skin.persona["personalized_for_you_"+o.config.skin.persona.time];"german"===o.config.language&&(e.carousel=c.filter(function(e){return"german"===e.language})),"chinese"===o.config.language&&(e.carousel=c.filter(function(e){return"chinese"===e.language})),"spanish"===o.config.language&&(e.carousel=c.filter(function(e){return"spanish"===e.language})),""!==o.config.language&&"english"!==o.config.language||(e.carousel=c.filter(function(e){return null===e.language})?c.filter(function(e){return null===e.language}):null),o.dev?(e.carousel.forEach(function(e){return e.image=r.db(e.image)}),e.carousel.forEach(function(e){return e.avatar=r.db(e.avatar)})):(e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),e.carousel.forEach(function(e){return e.avatar=r.dd("public/home",e.avatar)})),e.carousel.forEach(function(e){return e.is_tmp_images="tmp_images"==e.type}),e.carousel.forEach(function(e){return e.is_user_journey="user_journey"==e.type}),e.carousel.forEach(function(e){return e.caption_store_credit?e.show_incentive=!0:e.show_incentive=!1}),e.carousel.forEach(function(e){return e.label_store_credit?e.label_incentive=!0:e.label_incentive=!1}),e.carousel.forEach(function(e){return e.date_updated?e.show_new=!0:e.show_new=!1}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_carousel(t,e,n,o)}).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));document.querySelector("[data-id="+this.id+"] .layers")&&TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth,ease:Quint.easeOut}),document.querySelector("[data-id="+this.id+"] .grey_dot")&&TweenMax.to("[data-id="+this.id+"] .grey_dot",1,{x:-t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .static .dots").clientWidth,ease:Quint.easeOut})}},{key:"init_carousel",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){var i=r;r.scroll=new IScroll("[data-id="+r.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),r.scroll.on("scroll",function(e){i.update(o,this)}),t(e)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){if("castlight_web"!==o.app_name){r.homepage.section.removeAttribute("data-activity"),t.carousel.filter(function(e){return e.category}).forEach(function(e){o.config.programs[e.category]&&o.config.programs[e.category].completed_activities&&n.querySelector("[data-id="+r.id+"] [data-user-journey="+e.name+"]").classList.add("show_end")}),Array.from(n.querySelectorAll("[data-id="+r.id+"] .slide .hotspot")).forEach(function(e,n){e.addEventListener("BOX_TAPPED",function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_cards,l=t.carousel.filter(function(e){return e.name===n})[0].target_benefit;if(o.config.target_cards=u,r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u){o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(o.config.target_cards));var s=u.filter(function(e){return"program_activity"==e.type});s.length>0&&(o.config.programs[s[0].category]||(o.config.programs[s[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}if(l){o.config.target_cards=l.actions,o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(l.actions));var f=l.actions.filter(function(e){return"program_activity"==e.type});f.length>0&&(o.config.programs[f[0].category]||(o.config.programs[f[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}})})}else{var c=n.querySelector("[data-id="+r.id+"] .carousel .arrow.forward"),u=n.querySelector("[data-id="+r.id+"] .carousel .arrow.back"),l=n.querySelectorAll("[data-id="+r.id+"] .slide .hotspot");c.addEventListener("BOX_TAPPED",function(e){r.scroll.next()}),u.addEventListener("BOX_TAPPED",function(e){r.scroll.prev()}),l.forEach(function(e){e.addEventListener("BOX_TAPPED",function(t){e.getAttribute("data-clickthrough")&&(o.config.clickthrough=e.getAttribute("data-clickthrough"),r.homepage.init(o,"benefits").catch(function(e){return console.log(e)}))})})}i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"castlight_web"!==o.app_name&&r.init_card_click(t,n,o),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"castlight_web"!==o.app_name&&(n.querySelector("[data-id="+r.id+"]").onclick=function(e){t.target_search&&(o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search}).length>0?(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})):console.log("Include your target search to autosuggest in personas table"));t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_cards&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){var c=o.config.skin.persona["company_updates_"+o.config.skin.persona.time];c.forEach(function(e){e.cta&&(e.is_cta=!0),e.target&&(e.is_cta=!0),e.target_benefit&&(e.is_cta=!0),e.target_cards&&(e.is_cta=!0),e.target_search&&(e.is_cta=!0),e.target_tab&&(e.is_cta=!0)}),"german"===o.config.language&&(e.carousel=c.filter(function(e){return"german"===e.language})),"chinese"===o.config.language&&(e.carousel=c.filter(function(e){return"chinese"===e.language})),"spanish"===o.config.language&&(e.carousel=c.filter(function(e){return"spanish"===e.language})),""!==o.config.language&&"english"!==o.config.language||(e.carousel=c.filter(function(e){return null===e.language})?c.filter(function(e){return null===e.language}):null),o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"castlight_web"!==o.app_name&&(r.init_carousel_card_click(t,n,o,"box"),"german"===t.language&&(n.querySelector("[data-id="+r.id+"] .group [data-category='event'] .label").innerHTML="75 Plätze"),"chinese"===t.language&&(n.querySelector("[data-id="+r.id+"] .group [data-category='event'] .label").innerHTML="75 点"),"spanish"===t.language&&(n.querySelector("[data-id="+r.id+"] .group [data-category='event'] .label").innerHTML="75 lugares")),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(n,i){r.homepage.section.querySelector("header .right").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.epilogue&&(o.config.skin.persona[r.homepage.current_tab]=o.config.skin.persona[r.homepage.current_tab].map(function(e){return e.name==r.id?t.epilogue:e})),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},r.homepage.section.querySelector("header .left").onclick=function(e){r.homepage.init(o,"home").catch(function(e){return console.log(e)})},n(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),e.sandbox="sandbox"==o.config.skin.name,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,o){n.querySelector("[data-id="+r.id+"]").onclick=function(e){return location.reload()},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return o.dev?e.image=this.db(e.image):e.image=this.dd("public/home",e.image),new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),document.querySelector("#homepage").setAttribute("data-search-name",""),t.epilogue&&(o.config.skin.persona[r.homepage.current_tab]=o.config.skin.persona[r.homepage.current_tab].map(function(e){return e.name==r.id?t.epilogue:e})),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["rewards_gift_cards_"+o.config.skin.persona.time]?o.config.skin.persona["rewards_gift_cards_"+o.config.skin.persona.time]:null,e.current_points=o.config.skin.persona["points_"+o.config.skin.persona.time],o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"cab"!=o.config.skin.style&&"pcorp"!=o.config.skin.style||(r.homepage.section.querySelector("header .title").innerHTML="Rewards"),Array.from(n.querySelectorAll("[data-id="+r.id+"] .layer_gift")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-gift-id"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_cards;i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=u,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["interesting_reads_"+o.config.skin.persona.time]?o.config.skin.persona["interesting_reads_"+o.config.skin.persona.time]:null,o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){r.init_carousel_card_click(t,n,o,"layer"),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.avatar=r.db(e.avatar)):(e.image=r.dd("public/home",e.image),e.avatar=r.dd("public/home",e.avatar)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){var c=o.config.skin.persona["shortcuts_"+o.config.skin.persona.time];"german"===o.config.language&&(e.carousel=c.filter(function(e){return"german"===e.language})),"chinese"===o.config.language&&(e.carousel=c.filter(function(e){return"chinese"===e.language})),"spanish"===o.config.language&&(e.carousel=c.filter(function(e){return"spanish"===e.language})),""!==o.config.language&&"english"!==o.config.language||(e.carousel=c.filter(function(e){return null===e.language})?c.filter(function(e){return null===e.language}):null),o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .container")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-name"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_cards;i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=u,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){var c=o.config.skin.persona["settings_"+o.config.skin.persona.time];"german"===o.config.language&&(e.carousel=c.filter(function(e){return"german"===e.language})),"chinese"===o.config.language&&(e.carousel=c.filter(function(e){return"chinese"===e.language})),"spanish"===o.config.language&&(e.carousel=c.filter(function(e){return"spanish"===e.language})),""!==o.config.language&&"english"!==o.config.language||(e.carousel=c.filter(function(e){return null===e.language})?c.filter(function(e){return null===e.language}):null),o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .container")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-name"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_cards;i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=u,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){var c=o.config.skin.persona["rewards_active_programs_"+o.config.skin.persona.time];"german"===o.config.language&&(e.carousel=c.filter(function(e){return"german"===e.language})),"chinese"===o.config.language&&(e.carousel=c.filter(function(e){return"chinese"===e.language})),"spanish"===o.config.language&&(e.carousel=c.filter(function(e){return"spanish"===e.language})),""!==o.config.language&&"english"!==o.config.language||(e.carousel=c.filter(function(e){return null===e.language})?c.filter(function(e){return null===e.language}):null),o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){var c=o.config.pagination[o.config.pagination.length-2];n.querySelector(".exit_box").onclick=function(){r.homepage.init(o,""==c?"home":c).catch(function(e){return console.log(e)})},n.querySelector("[data-id="+r.id+"] .bottom_blog .button_box").onclick=function(e){t.target_search&&(o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search}).length>0?(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})):console.log("Include your target search to autosuggest in personas table"));t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){r.init_card_click(t,n,o),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.today=moment().format("DD"),e.before_1=moment().subtract(1,"days").format("DD"),e.before_2=moment().subtract(2,"days").format("DD"),e.before_3=moment().subtract(3,"days").format("DD"),e.before_4=moment().subtract(4,"days").format("DD"),e.after_1=moment().add(1,"days").format("DD"),e.after_2=moment().add(2,"days").format("DD"),e.after_3=moment().add(3,"days").format("DD"),e.after_4=moment().add(4,"days").format("DD"),e.date=moment().format("ll"),"get_active"===e.caption_fsa||"sleep_well"===e.caption_fsa||"eat_smart"===e.caption_fsa?e.is_wellbeing=!0:e.is_wellbeing=!1,o.config.target_cards.filter(function(e){return"program_activity"===e.type}).length>0&&(e.program_points=r.removeDuplicatesObj(o.config.programs[e.category].completed_activities).total_points,e.carousel=r.removeDuplicatesObj(o.config.programs[e.category].completed_activities).activities),o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector(".exit_box").onclick=function(){var e=void 0;e=o.config.pagination.length<3?o.config.pagination[o.config.pagination.length-2]:o.config.pagination[o.config.pagination.length-3],r.homepage.init(o,""==e?"home":e).catch(function(e){return console.log(e)})},o.config.programs[t.category]&&"true"===o.config.programs[t.category].no_calendar&&(n.querySelector('[data-id="'+r.id+'"] .outer_container').style.display="none"),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){var c=0;"registered"==t.status&&n.querySelector("[data-id="+r.id+"] .rsvp [data-button=yes]").classList.add("on"),n.querySelector("[data-id="+r.id+"] [data-button=yes]").onclick=function(e){return n.querySelector("[data-id="+r.id+"] .lightbox").classList.add("on")},n.querySelector("[data-id="+r.id+"] .lightbox .no").onclick=function(e){return n.querySelector("[data-id="+r.id+"] .lightbox").classList.remove("on")},n.querySelector("[data-id="+r.id+"] .lightbox .plus").onclick=function(e){return n.querySelector("[data-id="+r.id+"] .lightbox .number").innerText=c<2?++c:2},n.querySelector("[data-id="+r.id+"] .lightbox .minus").onclick=function(e){return n.querySelector("[data-id="+r.id+"] .lightbox .number").innerText=c>0?--c:0},n.querySelector("[data-id="+r.id+"] .lightbox .yes").onclick=function(e){n.querySelector("[data-id="+r.id+"] .confirmationbox").classList.add("on"),n.querySelector("[data-id="+r.id+"] .lightbox").classList.remove("on"),n.querySelector("[data-id="+r.id+"] .rsvp .points").innerText=t.points-c+" spots",n.querySelector("[data-id="+r.id+"] .rsvp [data-button=yes]").classList.add("on"),t.points-=c,t.status="registered"},n.querySelector("[data-id="+r.id+"] .confirmationbox .no").onclick=function(e){return n.querySelector("[data-id="+r.id+"] .confirmationbox").classList.remove("on")},n.querySelector("[data-id="+r.id+"] .confirmationbox .yes").onclick=function(e){return n.querySelector("[data-id="+r.id+"] .confirmationbox").classList.remove("on")},n.querySelector("[data-id="+r.id+"] .info .address").onclick=function(e){return n.querySelector("[data-id="+r.id+"] .iosbox").classList.add("on")},n.querySelector("[data-id="+r.id+"] .iosbox .cancel").onclick=function(e){return n.querySelector("[data-id="+r.id+"] .iosbox").classList.remove("on")},n.querySelector("[data-id="+r.id+"] .exit_box").onclick=function(e){return r.homepage.init(o,"home").catch(function(e){return console.log(e)})},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,o){n.querySelector('[data-id="'+r.id+'"] .see_more').onclick=function(e){n.querySelector(".collapse").classList.add("active"),n.querySelector(".see_more").innerHTML=""},n.querySelector('[data-id="'+r.id+'"] .see_less').onclick=function(e){n.querySelector(".collapse").classList.remove("active"),n.querySelector(".see_more").innerHTML="See more"},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.ways_to_earn_incentive_card="",r.ways_to_earn_point_card="",r.activitiesArr="",r.atGlanceTitle="",r.activitiesTitle="",r.linkedTrackers="",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){r.init_program_activity(status,e,n,o),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"flatten",value:function(e){for(var t=0;t<e.length;Array.isArray(e[t])&&e.splice.apply(e,[t,1].concat(c(e[t])))||t++);return e}},{key:"removeDuplicates",value:function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}},{key:"init_program_activity",value:function(e,t,n,o){var r=o.config.target_cards.filter(function(e){return"program_activity"!==e.type});"true"===o.config.programs[t.category].add_bg&&n.querySelector('[data-type="program_top"]').getAttribute("data-id")===r[0].name&&n.querySelector('[data-type="program_top"]').setAttribute("data-activity","true"),o.config.target_cards.filter(function(e){return"linked_trackers"===e.type})&&(this.linkedTrackers=o.config.target_cards.filter(function(e){return"linked_trackers"===e.type})[0]),this.activitiesArr=o.config.target_cards.filter(function(e){return"program_activity"===e.type}),this.atGlanceTitle=o.config.target_cards.filter(function(e){return"separators"===e.type})[0],this.activitiesTitle=o.config.target_cards.filter(function(e){return"separators"===e.type})[1],this.ways_to_earn_point_card=o.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"incentive"==e.label_plan_status&&e.category==t.category}),this.ways_to_earn_incentive_card=o.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return"todo_card"==e.type&&e.category==t.category}),0===this.activitiesArr.filter(function(e){return"daily"===e.caption_fsa}).length&&(o.config.target_cards[0].calendar="no_calendar")}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){r.activitiesArr.filter(function(e){return e.target||e.cta}).forEach(function(e){n.querySelector('[data-id="'+e.name+'"]')&&(n.querySelector('[data-id="'+e.name+'"] .cta_button_box').classList.add("action"),e.cta||(n.querySelector('[data-id="'+e.name+'"] .cta_button_box .cta_button').innerHTML="GO"))}),n.querySelector('[data-id="'+r.id+'"]').onclick=function(e){var n=o.config.target_cards.filter(function(e){return e.name===""+r.id})[0];r.activitiesArr.splice(r.activitiesArr.indexOf(n),1),r.activitiesArr.push(n),"ACTIVITIES"===r.activitiesTitle.title?r.activitiesArr.unshift(r.activitiesTitle):r.activitiesArr.unshift(r.atGlanceTitle),r.linkedTrackers?o.config.target_cards.splice(1,0,r.linkedTrackers):o.config.target_cards.splice(1,0,r.activitiesArr),o.config.target_cards=r.removeDuplicates(r.flatten(o.config.target_cards)),o.config.skin.persona["blog_"+o.config.skin.persona.time]=o.config.target_cards,t.target&&(o.config.target_cards[0].status="completed",t.label_plan_status||(t.status="complete"),o.config.programs[t.category]&&(o.config.programs[t.category].points+=Number(t.points),o.config.programs[t.category].completed_activities||(o.config.programs[t.category].completed_activities=[]),o.config.programs[t.category].completed_activities.push({title:n.title,points:n.points}),null!==t.points&&(o.config.programs[t.category].add_bg="true"),null===t.points&&(o.config.programs[t.category].no_calendar="true")),o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})),t.target_cards&&(t.label_plan_status||(t.status="complete"),o.config.programs[t.category].completed_activities||(o.config.programs[t.category].completed_activities=[]),o.config.programs[t.category].completed_activities.push({title:n.title,points:n.points}),null===t.points&&(o.config.programs[t.category].no_calendar="true"),o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)})),r.ways_to_earn_incentive_card.length>0&&(r.ways_to_earn_incentive_card[0].target_cards&&(r.ways_to_earn_incentive_card[0].status=o.config.programs[r.ways_to_earn_incentive_card[0].category].completed_activities.length<r.ways_to_earn_incentive_card[0].target_cards.filter(function(e){return"program_activity"==e.type}).length?"progress":"end"),r.ways_to_earn_incentive_card[0].target_benefit&&(r.ways_to_earn_incentive_card[0].status=o.config.programs[r.ways_to_earn_incentive_card[0].category].completed_activities.length<r.ways_to_earn_incentive_card[0].target_benefit.actions.filter(function(e){return"program_activity"==e.type}).length?"progress":"end")),r.ways_to_earn_point_card.length>0&&(r.ways_to_earn_point_card[0].target_cards&&(r.ways_to_earn_point_card[0].status=o.config.programs[r.ways_to_earn_point_card[0].category].completed_activities.length<r.ways_to_earn_point_card[0].target_cards.filter(function(e){return"program_activity"==e.type}).length?"progress":"end"),r.ways_to_earn_point_card[0].target_benefit&&(r.ways_to_earn_point_card[0].status=o.config.programs[r.ways_to_earn_point_card[0].category].completed_activities.length<r.ways_to_earn_point_card[0].target_benefit.actions.filter(function(e){return"program_activity"==e.type}).length?"progress":"end"))},i(e)})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),e.first_name=o.config.skin.persona.name,e.last_name=o.config.skin.persona.last_name,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.today=moment().format("DD"),e.before_1=parseInt(e.today)-1,e.before_2=parseInt(e.today)-2,e.before_3=parseInt(e.today)-3,e.before_4=parseInt(e.today)-4,e.after_1=parseInt(e.today)+1,e.after_2=parseInt(e.today)+2,e.after_3=parseInt(e.today)+3,e.after_4=parseInt(e.today)+4,e.date=moment().format("ll"),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"castlight_web"!==o.app_name&&(n.querySelector("[data-id="+r.id+"]").onclick=function(e){t.target_search&&(o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search}).length>0?(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})):console.log("Include your target search to autosuggest in personas table"));t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_cards&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.scroll=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["trending_now_"+o.config.skin.persona.time]?o.config.skin.persona["trending_now_"+o.config.skin.persona.time]:null,o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_carousel(t,e,n,o)}).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_carousel",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){var i=r;r.scroll=new IScroll("[data-id="+r.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),r.scroll.on("scroll",function(e){i.update(o,this)}),t(e)})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));document.querySelector("[data-id="+this.id+"] .layers")&&TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth,ease:Quint.easeOut}),document.querySelector("[data-id="+this.id+"] .grey_dot")&&TweenMax.to("[data-id="+this.id+"] .grey_dot",1,{x:-t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .static .dots").clientWidth,ease:Quint.easeOut})}},{key:"flatten",value:function(e){for(var t=0;t<e.length;Array.isArray(e[t])&&e.splice.apply(e,[t,1].concat(c(e[t])))||t++);return e}},{key:"removeDuplicates",value:function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .slide .hotspot")).forEach(function(e,n){e.addEventListener("BOX_TAPPED",function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_cards;if(r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0]&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u){r.removeDuplicates(r.flatten(u));var l=u.filter(function(e){return"program_activity"==e.type});l.length>0&&(o.config.programs[l[0].category]||(o.config.programs[l[0].category]={points:0})),o.config.skin.persona["blog_"+o.config.skin.persona.time]=u,o.config.target_cards=u,r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}})}),i(e)})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){r.homepage.section.querySelector(".blue_left_arrow").onclick=function(){var e=o.config.pagination[o.config.pagination.length-2];r.homepage.init(o,""==e?"home":e).catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"]").onclick=function(e){t.target_search&&(o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search}).length>0?(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})):console.log("Include your target search to autosuggest in personas table"));t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_cards&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.outof=o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"todo_card"==e.type}).map(function(e){return Number(e.points.split("$")[1])}).reduce(function(e,t){return e+t}),e.actual=0,o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"milestone"===e.label_three_caption}).length>0&&(e.is_milestone=!0),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"milestone"===e.label_three_caption}).length>0&&(n.querySelector("[data-id="+r.id+"]").style.marginBottom="7vh"),t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["interesting_reads_"+o.config.skin.persona.time]?o.config.skin.persona["interesting_reads_"+o.config.skin.persona.time]:null,e.carousel_web=o.config.skin.persona["interesting_reads_"+o.config.skin.persona.time]?o.config.skin.persona["interesting_reads_"+o.config.skin.persona.time].slice(1,4):null,o.dev?(e.image=r.db(e.image),e.carousel_web.forEach(function(e){return e.image=r.db(e.image)})):(e.image=r.dd("public/home",e.image),e.carousel_web.forEach(function(e){return e.image=r.dd("public/home",e.image)})),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){if("castlight_web"!==o.app_name&&(""===o.config.language||"english"===o.config.language)){o.config.pagination[o.config.pagination.length-2];n.querySelector("[data-id="+r.id+"] .top").onclick=function(e){t.target_cards&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))},n.querySelector("[data-id="+r.id+"] .cta_cab").onclick=function(e){o.config.skin.persona["stories_"+o.config.skin.persona.time]=t.carousel,r.homepage.init(o,"stories").catch(function(e){return console.log(e)})}}i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"] .group").onclick=function(e){t.target_cards&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=e.target_cards,e.carousel.forEach(function(t){return t.progress=Math.round(100/e.carousel.length)+"%"}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){var c=0,u=Math.ceil(100/t.carousel.length);Array.from(n.querySelectorAll(".answer_box")).forEach(function(e){return e.onclick=function(e){null!==n.querySelector(".group")&&null===n.querySelector(".on")&&(c+=u,n.querySelector(".deductible").style.width=c+"%"),r.click_answer(e.currentTarget)}}),r.init_carousel_card_click(t,n,o,"box"),n.querySelectorAll("[data-id="+r.id+"] .done").forEach(function(e){return e.onclick=function(){return r.homepage.init(o,o.config.pagination[o.config.pagination.length-2])}}),n.querySelectorAll("[data-id="+r.id+"] .button").forEach(function(e){return e.onclick=function(){n.querySelector(".survey_container").removeChild(n.querySelector(".group")),null!==n.querySelector(".group")&&(n.querySelector(".deductible").style.width=c+"%"),null===n.querySelector(".group")&&n.querySelector(".completed_message").classList.add("show"),n.querySelector("[data-id="+r.id+"] .completed_message").onclick=function(){return r.homepage.init(o,o.config.pagination[o.config.pagination.length-2])}}}),i(e)})}},{key:"click_answer",value:function(e){Array.from(e.classList).includes("answer_box")&&(this.homepage.section.querySelectorAll(".answer_box").forEach(function(e){e.classList.remove("on")}),e.classList.add("on"))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.time=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.dateTime=o.config.luxon.now,e.date_updated=o.config.manual_tracking.calendar[r.time].time,e.hasDone="Done"==e.cta,e.today=o.config.luxon.now.toFormat("DDDD");var c,u;e.dates=(c=[],u=e.dateTime.minus({days:4}).plus({days:1}),Array.from({length:7},function(){c.push(u),u=u.plus({days:1})}),c.forEach(function(e){console.log(e.toFormat("MMM Do"))}),c);e.dates_weekday=function(){var t=[];return e.dates.forEach(function(e){t.push(e.toFormat("ccccc"))}),t}();e.dates_daynum=function(){var t=[];return e.dates.forEach(function(e){t.push(e.toFormat("d"))}),t}(),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"update",value:function(e,t,n,o){e.dateTime=n.config.luxon.now,e.date_updated=n.config.manual_tracking.calendar[this.time].time,t.querySelector("[data-id="+this.id+"] .date").innerHTML=n.config.manual_tracking.calendar[this.time].time,TweenMax.set(document.querySelectorAll(".circle"),{x:0}),TweenMax.set(document.querySelectorAll(".bar"),{width:1}),t.querySelectorAll(".amount").forEach(function(e){return e.innerHTML=0}),o.forEach(function(e){t.querySelector("[data-activity-category="+e+"] .total").innerHTML=n.config.manual_tracking.calendar.filter(function(e){return e.time==t.querySelector(".date").innerHTML})[0][e],t.querySelector("[data-activity-category="+e+"] .label").innerHTML="Steps count so far: "+n.config.manual_tracking.calendar.filter(function(e){return e.time==t.querySelector(".date").innerHTML})[0][e]})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){var c=["steps","food","sleep"],u=0;n.querySelectorAll("[data-id="+r.id+"] .weekday-text").forEach(function(e){3==u&&e.classList.add("is-today"),u++});var l=0;n.querySelectorAll("[data-id="+r.id+"] .day-text").forEach(function(e){3==l&&(e.classList.add("today"),e.classList.remove("day-text")),l>=4&&e.classList.add("disabled"),l++}),n.querySelector("[data-id="+r.id+"] .left")&&(n.querySelector("[data-id="+r.id+"] .left").onclick=function(e){r.time+1<o.config.manual_tracking.calendar.length&&(++r.time,r.update(t,n,o,c))}),n.querySelector("[data-id="+r.id+"] .right")&&(n.querySelector("[data-id="+r.id+"] .right").onclick=function(e){r.time-1>-1&&(--r.time,r.update(t,n,o,c))}),n.querySelector("[data-id="+r.id+"] .cancel").onclick=function(e){"Done"==t.cta?(o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(o.config.target_cards)),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})):r.homepage.init(o).catch(function(e){return console.log(e)})},n.querySelector("[data-id="+r.id+"] .done")&&(n.querySelector("[data-id="+r.id+"] .done").onclick=function(e){o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(o.config.target_cards)),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})},n.querySelectorAll("[data-id="+r.id+"] .answer").forEach(function(e){return e.onclick=function(e){n.querySelectorAll("[data-id="+r.id+"] .answer").forEach(function(e){return e.classList.remove("on")}),e.currentTarget.classList.add("on"),o.config.manual_tracking.reminder_time=e.currentTarget.getAttribute("data-reminder-time")}})),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.prc=0,r.today="0",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){var c=r;r.today=String(o.config.manual_tracking.calendar.filter(function(e){return e.time==n.querySelector(".date ").innerHTML})[0][t.category]),n.querySelector("[data-id="+r.id+"] .label").innerHTML=(t.label_fsa?t.label_fsa:0)+" <span class=b>"+r.today+"</span>",n.querySelector("[data-id="+r.id+"] .total").innerHTML=r.today,n.querySelector("[data-id="+r.id+"] video").play(),n.querySelector("[data-id="+r.id+"] video").pause(),n.querySelector("[data-id="+r.id+"] video").webkitExitFullScreen(),n.querySelector("[data-id="+r.id+"] video").controls=!1,Draggable.create(n.querySelector("[data-id="+r.id+"] .circle"),{lockAxis:!0,bounds:n.querySelector("[data-id="+r.id+"] .slider"),onDrag:function(){c.drag(this.x,this.maxX,t,n,o)}}),n.querySelector("[data-id="+r.id+"] .cta").onclick=function(){t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}},{key:"drag",value:function(e,t,n,o,r){this.prc=e/t,this.today=String(r.config.manual_tracking.calendar.filter(function(e){return e.time==o.querySelector(".date ").innerHTML})[0][n.category]),o.querySelector("[data-id="+this.id+"] .bar").style.width=100*this.prc+"%",o.querySelector("[data-id="+this.id+"] .amount").innerHTML="+"+Math.floor(this.prc*n.points).toLocaleString("currency"),o.querySelector("[data-id="+this.id+"] .total").innerHTML=""+Math.floor(this.prc*n.points+Number(this.today.replace(",",""))).toLocaleString("currency"),o.querySelector("[data-id="+this.id+"] video").currentTime=this.prc*o.querySelector("[data-id="+this.id+"] video").duration}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.isReminded=o.config.manual_tracking.first_reminder,e.reminder=o.config.manual_tracking.reminder_time,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .cta, [data-id="+r.id+"] .ok")).forEach(function(e){return e.onclick=function(e){t.target_cards&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(t.target_cards)),r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))}}),Array.from(n.querySelectorAll("[data-id="+r.id+"] .not_now, [data-id="+r.id+"] .close")).forEach(function(e){return e.onclick=function(e){n.classList.remove("lightboxed"),n.querySelector("[data-id="+r.id+"] .overlay").classList.remove("on")}}),n.querySelector("[data-id="+r.id+"] .sub")&&(n.querySelector("[data-id="+r.id+"] .sub").onclick=function(e){o.config.manual_tracking.first_reminder=!1,n.classList.remove("lightboxed"),n.querySelector("[data-id="+r.id+"] .overlay").classList.remove("on")}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.hasDone="Done"==e.cta,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){Array.from(n.querySelectorAll("[data-id="+r.id+"] .cancel, [data-id="+r.id+"] .done")).forEach(function(e){return e.onclick=function(e){r.homepage.init(o,"more").catch(function(e){return console.log(e)})}}),n.querySelectorAll("[data-id="+r.id+"] .answer").forEach(function(e){return e.onclick=function(e){n.querySelectorAll("[data-id="+r.id+"] .answer").forEach(function(e){return e.classList.remove("on")}),e.currentTarget.classList.add("on")}}),t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.avatar=r.db(e.avatar)):(e.image=r.dd("public/home",e.image),e.avatar=r.dd("public/home",e.avatar)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){o.config.community.first&&document.querySelector('[data-homepage-tab="community"]').classList.add("first"),n.querySelector("[data-id="+r.id+"]").onclick=function(e){t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}),o.config.community.first=!1,document.querySelector('[data-homepage-tab="community"]').classList.remove("first"))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.incentive_status="incentive"==o.config.ways_to_earn.current_tab,e.points=e.incentive_status?o.config.ways_to_earn.total_incentives:o.config.ways_to_earn.total_points,e.incentive_status&&o.config.ways_to_earn.ways_to_earn_incentive.forEach(function(t){"tmp_images"===t.type&&(e.points=t.points)}),e.incentive_status&&(e.total=o.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return"milestone_reward"==e.type}).map(function(e){return Number(e.points)}).reduce(function(e,t){return e+t})),e.total>1500&&(e.total=1500),e.amount_fsa=o.config.skin.persona["date_"+o.config.skin.persona.time]?"as of "+o.config.skin.persona["date_"+o.config.skin.persona.time]:null,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){t.incentive_status||(n.querySelector("[data-id="+r.id+"] .gift_box").classList.add("gift_wrap"),n.querySelector("[data-id="+r.id+"] .redeem_points_box").onclick=function(){t.target_cards?(o.config.skin.persona["rewards_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"rewards").catch(function(e){return console.log(e)})):r.init_card_click(t,n,o)}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){r.init_ways_to_earn(e,n,o),o.config.ways_to_earn.ways_to_earn_point=[].concat(c(o.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"incentive_category"==e.type})),c(o.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"ways_to_earn_top"==e.type})),c(o.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"progress"==e.title})),c(o.config.ways_to_earn.incentive_progress),c(o.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"start"==e.title})),c(o.config.ways_to_earn.incentive_start),c(o.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"end"==e.title})),c(o.config.ways_to_earn.incentive_end),c(o.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"ios_popup"==e.type})),c(o.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"how_it_works_incentive"===e.type}))),o.config.ways_to_earn.total_currently_earning_items=o.config.ways_to_earn.incentive_progress.length,o.config.ways_to_earn.ready||(o.config.skin.persona["ways_to_earn_"+o.config.skin.persona.time]=o.config.ways_to_earn["ways_to_earn_"+o.config.ways_to_earn.current_tab],r.homepage.init(o,"ways_to_earn").catch(function(e){return console.log(e)}),o.config.ways_to_earn.ready=!0),e.points=o.config.ways_to_earn.total_points,e.incentives=o.config.ways_to_earn.total_incentives,e.status=o.config.ways_to_earn.current_tab,e.total=o.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return"milestone_reward"==e.type}).map(function(e){return Number(e.points)}).reduce(function(e,t){return e+t}),o.config.ways_to_earn.ways_to_earn_incentive.forEach(function(t){"tmp_images"===t.type&&(e.incentives=t.points)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_ways_to_earn",value:function(e,t,n){0==n.config.ways_to_earn.ways_to_earn_point.length&&(n.config.ways_to_earn.ways_to_earn_point=[].concat(c(n.config.skin.persona["ways_to_earn_"+n.config.skin.persona.time]),c(n.config.skin.persona["points_opportunities_"+n.config.skin.persona.time]?n.config.skin.persona["points_opportunities_"+n.config.skin.persona.time]:[]),c(n.config.skin.persona["points_currently_earning_"+n.config.skin.persona.time]?n.config.skin.persona["points_currently_earning_"+n.config.skin.persona.time].map(function(e){return e.status="progress",e}):[]),c(n.config.skin.persona["points_completed_"+n.config.skin.persona.time]?n.config.skin.persona["points_completed_"+n.config.skin.persona.time].map(function(e){return e.status="end",e}):[]))),0==n.config.ways_to_earn.ways_to_earn_incentive.length?n.config.ways_to_earn.ways_to_earn_incentive=[].concat(c(n.config.skin.persona["ways_to_earn_"+n.config.skin.persona.time]),c(n.config.skin.persona["incentives_"+n.config.skin.persona.time])):n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.epilogue}).length>0&&"end"==n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.epilogue})[0].status&&"hidden"==n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.name==n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.epilogue})[0].epilogue.name})[0].status&&(n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.name==n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.epilogue})[0].epilogue.name})[0].status=null),n.config.ways_to_earn.incentive_start=n.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"incentive"==e.label_plan_status&&null==e.status}),n.config.ways_to_earn.incentive_progress=n.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"incentive"==e.label_plan_status&&"progress"==e.status}),n.config.ways_to_earn.incentive_end=n.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"incentive"==e.label_plan_status&&"end"==e.status}),n.config.ways_to_earn.total_points=[].concat(c(this.flatten(n.config.ways_to_earn.incentive_progress.map(function(e){return Number(e.label_store_credit)}))),c(this.flatten(n.config.ways_to_earn.incentive_end.map(function(e){return Number(e.label_store_credit)})))).length>0?[].concat(c(this.flatten(n.config.ways_to_earn.incentive_progress.map(function(e){return Number(e.label_store_credit)}))),c(this.flatten(n.config.ways_to_earn.incentive_end.map(function(e){return Number(e.label_store_credit)})))).reduce(function(e,t){return e+t}):0,n.config.ways_to_earn.milestone_end=n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return"incentive"==e.caption_fsa&&"end"==e.status}),n.config.ways_to_earn.milestone_end.length>0&&(n.config.ways_to_earn.total_incentives=n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return"milestone_reward"==e.type}).map(function(e){return e.status=e.list.map(function(e){return n.config.ways_to_earn.milestone_end.filter(function(t){return t.category==e})[0]}).filter(function(e){return e}).length==e.list.length,e.status?Number(e.points):0}).reduce(function(e,t){return e+t}))}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("."+t.status+"_box").classList.add("active"),o.config.ways_to_earn.home||n.classList.add("popup_mode"),n.querySelector(".incentive_box").onclick=function(e){o.config.ways_to_earn.current_tab="incentive",o.config.skin.persona["ways_to_earn_"+o.config.skin.persona.time]=o.config.ways_to_earn.ways_to_earn_incentive,r.homepage.init(o,"ways_to_earn").catch(function(e){return console.log(e)})},n.querySelector(".point_box").onclick=function(e){o.config.ways_to_earn.current_tab="point",o.config.skin.persona["ways_to_earn_"+o.config.skin.persona.time]=o.config.ways_to_earn.ways_to_earn_point,r.homepage.init(o,"ways_to_earn").catch(function(e){return console.log(e)})},"points_only"===o.config.skin.persona.ways_to_earn_one_tab&&n.querySelector("[data-id="+r.id+"]").classList.add("hide"),i(e)})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"hidden"===t.status&&n.querySelector("[data-id="+r.id+"]").classList.add("hide"),n.querySelector("[data-id="+r.id+"] .hotspot_more").onclick=function(e){n.classList.add("popup_mode")},n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.epilogue&&(o.config.skin.persona[r.homepage.current_tab]=o.config.skin.persona[r.homepage.current_tab].map(function(e){return e.name==r.id?t.epilogue:e})),t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),t.target_search&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return o.dev?e.image=this.db(e.image):e.image=this.dd("public/home",e.image),new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){t(e),n.querySelector("[data-id="+r.id+"]").onclick=function(e){n.classList.remove("popup_mode"),o.config.ways_to_earn.first=!1,o.config.ways_to_earn.home=!0}})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"] .hotspot_right").onclick=function(e){t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},n.querySelector("[data-id="+r.id+"] .hotspot_left").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_cards&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.avatar=r.db(e.avatar)):(e.image=r.dd("public/home",e.image),e.avatar=r.dd("public/home",e.avatar)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"] .hotspot_back").onclick=function(e){t.epilogue&&(o.config.skin.persona.community_start.filter(function(e){return e.name==t.epilogue.name})[0].status=null),r.homepage.init(o,"community").catch(function(e){return console.log(e)})},n.querySelector("[data-id="+r.id+"] .hotspot_target").onclick=function(e){t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.is_start="start"==e.title,e.is_progress="progress"==e.title,e.is_end="end"==e.title,e.total_currently_earning_items=o.config.ways_to_earn.total_currently_earning_items,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){i(e),n.querySelector("[data-id="+r.id+"]").classList.remove("point"),n.querySelector("[data-id="+r.id+"]").classList.remove("incentive"),n.querySelector("[data-id="+r.id+"]").classList.add(o.config.ways_to_earn.current_tab),o.config.ways_to_earn.incentive_progress.length>0&&"progress"==t.title&&n.querySelector("[data-id="+r.id+"]").classList.add("visible"),o.config.ways_to_earn.incentive_end.length>0&&"end"==t.title&&n.querySelector("[data-id="+r.id+"]").classList.add("visible"),o.config.ways_to_earn.incentive_start.length>0&&"start"==t.title&&n.querySelector("[data-id="+r.id+"]").classList.add("visible")})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.photo=r.db(o.config.skin.persona.photo):e.photo=r.dd(o.config.skin.name.toLowerCase()+"/"+o.config.skin.persona.name.toLowerCase(),o.config.skin.persona.photo),o.config.skin.persona["notifications_"+o.config.skin.persona.time]&&(r.homepage.section.querySelector("header .new_notification .number").innerHTML=o.config.skin.persona["notifications_"+o.config.skin.persona.time].filter(function(e){return"read"!=e.label_plan_status}).length),e.current_date=o.config.skin.persona["date_"+o.config.skin.persona.time]?", "+o.config.skin.persona["date_"+o.config.skin.persona.time]:null,e.username=o.config.skin.persona.name,e.header_text_color=o.config.skin.header_text_color,e.gradient_color=o.config.skin.gradient_color,e.initials=o.config.skin.persona.name.split("")[0].toUpperCase()+o.config.skin.persona.last_name.split("")[0].toUpperCase(),o.config.ways_to_earn.first=!(o.config.skin.persona["points_currently_earning_"+o.config.skin.persona.time]||o.config.skin.persona["points_completed_"+o.config.skin.persona.time]),r.init_ways_to_earn(e,n,o),e.date=o.config.skin.persona["date_"+o.config.skin.persona.time],e.is_incentive=e.is_points=!1,e.value=o.config.ways_to_earn.total_incentives,e.total=o.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return"milestone_reward"==e.type}).map(function(e){return Number(e.points)}).reduce(function(e,t){return e+t}),e.total>1500&&(e.total=1500),e.points=o.config.ways_to_earn.total_points,e.caption_fsa=o.config.ways_to_earn.home&&(o.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"progress"==e.status||"end"==e.status}).length>0||o.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return"progress"==e.status||"end"==e.status}).length>0)?"points":"incentive","incentive"==e.caption_fsa&&(e.is_incentive=!0),"points"==e.caption_fsa&&(e.is_points=!0),"points_only"===o.config.skin.persona.ways_to_earn_one_tab&&(e.is_points_only=!0),null!==o.config.skin.persona["message_"+o.config.skin.persona.time]&&(e.is_message=!0,e.message=o.config.skin.persona["message_"+o.config.skin.persona.time]),e.label_fsa&&(e.label_fsa=e.label_fsa.replace(/{{total}}/,o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"todo_card"==e.type}).map(function(e){return Number(e.points.split("$")[1])}).reduce(function(e,t){return e+t}))),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_ways_to_earn",value:function(e,t,n){0==n.config.ways_to_earn.ways_to_earn_point.length&&(n.config.ways_to_earn.ways_to_earn_point=[].concat(c(n.config.skin.persona["ways_to_earn_"+n.config.skin.persona.time]),c(n.config.skin.persona["points_opportunities_"+n.config.skin.persona.time]?n.config.skin.persona["points_opportunities_"+n.config.skin.persona.time]:[]),c(n.config.skin.persona["points_currently_earning_"+n.config.skin.persona.time]?n.config.skin.persona["points_currently_earning_"+n.config.skin.persona.time].map(function(e){return e.status="progress",e}):[]),c(n.config.skin.persona["points_completed_"+n.config.skin.persona.time]?n.config.skin.persona["points_completed_"+n.config.skin.persona.time].map(function(e){return e.status="end",e}):[]))),0==n.config.ways_to_earn.ways_to_earn_incentive.length?n.config.ways_to_earn.ways_to_earn_incentive=[].concat(c(n.config.skin.persona["ways_to_earn_"+n.config.skin.persona.time]),c(n.config.skin.persona["incentives_"+n.config.skin.persona.time])):n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.epilogue}).length>0&&"end"==n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.epilogue})[0].status&&"hidden"==n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.name==n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.epilogue})[0].epilogue.name})[0].status&&(n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.name==n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return e.epilogue})[0].epilogue.name})[0].status=null),n.config.ways_to_earn.incentive_start=n.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"incentive"==e.label_plan_status&&null==e.status}),n.config.ways_to_earn.incentive_progress=n.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"incentive"==e.label_plan_status&&"progress"==e.status}),n.config.ways_to_earn.incentive_end=n.config.ways_to_earn.ways_to_earn_point.filter(function(e){return"incentive"==e.label_plan_status&&"end"==e.status}),n.config.ways_to_earn.total_points=[].concat(c(this.flatten(n.config.ways_to_earn.incentive_progress.map(function(e){return Number(e.label_store_credit)}))),c(this.flatten(n.config.ways_to_earn.incentive_end.map(function(e){return Number(e.label_store_credit)})))).length>0?[].concat(c(this.flatten(n.config.ways_to_earn.incentive_progress.map(function(e){return Number(e.label_store_credit)}))),c(this.flatten(n.config.ways_to_earn.incentive_end.map(function(e){return Number(e.label_store_credit)})))).reduce(function(e,t){return e+t}):0,n.config.ways_to_earn.milestone_end=n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return"incentive"==e.caption_fsa&&"end"==e.status}),n.config.ways_to_earn.milestone_end.length>0&&(n.config.ways_to_earn.total_incentives=n.config.ways_to_earn.ways_to_earn_incentive.filter(function(e){return"milestone_reward"==e.type}).map(function(e){return e.status=e.list.map(function(e){return n.config.ways_to_earn.milestone_end.filter(function(t){return t.category==e})[0]}).filter(function(e){return e}).length==e.list.length,e.status?Number(e.points):0}).reduce(function(e,t){return e+t}))}},{key:"flatten",value:function(e){for(var t=0;t<e.length;Array.isArray(e[t])&&e.splice.apply(e,[t,1].concat(c(e[t])))||t++);return e}},{key:"total_points",value:function(e){var t=0;for(var n in e)t+=e[n].points;return t}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){if("castlight_web"!==o.app_name){if(o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"weekly"===e.label_store_credit}).length>0){var c=o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"weekly"===e.label_store_credit}).map(function(e){return Number(e.points.split("$")[1])}).reduce(function(e,t){return e+t});r.homepage.section.querySelector(".incentive .middle .label").innerHTML="<b>Earn up to $"+c+" per week</b><br> just by making healthy choices"}"pcorp"===o.config.skin.style&&(n.querySelector(".activity_points.incentive").classList.add("stretch"),n.querySelector(".learn_topnav_box")&&(n.querySelector(".learn_topnav_box").style.display="flex")),n.querySelector("[data-id="+r.id+"] .activity_points").onclick=function(e){if(o.todos_month=t.current_date,t.target_tab){if("todo"==t.target_tab)o.config.skin.persona["todo_"+o.config.skin.persona.time].filter(function(e){return"todo_card"==e.type});r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)})}else t.target?(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})):t.target_search?(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===t.target_search})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})):t.target_cards&&(o.config.skin.persona["rewards_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"rewards").catch(function(e){return console.log(e)}))},r.homepage.section.querySelector("header .new_notification .hotspot").onclick=function(e){r.homepage.init(o,"notifications").catch(function(e){return console.log(e)})},r.homepage.section.querySelector(".comm .icon").onclick=function(e){r.homepage.init(o,"community").catch(function(e){return console.log(e)})}}else"pcorp"===o.config.skin.style&&(n.querySelector(".activity_points_web.incentive").classList.add("stretch_web"),n.querySelector(".learn_topnav_box")&&(n.querySelector(".learn_topnav_box").style.display="flex"));i(e)})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"] video").play(),n.querySelector("[data-id="+r.id+"] video").webkitExitFullScreen(),n.querySelector("[data-id="+r.id+"] video").controls=!1,n.querySelector("[data-id="+r.id+"] .hotspot").onclick=function(e){t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.photo=r.db(o.config.skin.persona.photo):e.photo=r.dd(o.config.skin.name.toLowerCase()+"/"+o.config.skin.persona.name.toLowerCase(),o.config.skin.persona.photo),e.initials=o.config.skin.persona.name.split("")[0].toUpperCase()+o.config.skin.persona.last_name.split("")[0].toUpperCase(),e.username=o.config.skin.persona.name+" "+o.config.skin.persona.last_name,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.style.backgroundImage="url(images/home/spring_countdown_bg.jpg)",n.style.backgroundSize="contain",n.querySelector("[data-id="+r.id+"]").onclick=function(e){r.homepage.init(o,"home")},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.logo=r.db(o.config.skin.logo):e.logo=r.dd(""+o.config.skin.domain,o.config.skin.logo),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.logo=r.db(o.config.skin.logo),e.logo_alt=r.db(o.config.skin.logo_alt),e.photo=r.db(o.config.skin.persona.photo)):(e.logo=r.dd(""+o.config.skin.domain,o.config.skin.logo),e.logo_alt=r.dd(""+o.config.skin.domain,o.config.skin.logo_alt),e.photo=r.dd(o.config.skin.name.toLowerCase()+"/"+o.config.skin.persona.name.toLowerCase(),o.config.skin.persona.photo)),e.initials=o.config.skin.persona.name.split("")[0].toUpperCase()+o.config.skin.persona.last_name.split("")[0].toUpperCase(),e.username=o.config.skin.persona.name+" "+o.config.skin.persona.last_name,e.state=o.config.skin.persona.state.split(",")[1].trim(),e.location=o.config.skin.persona.state,null!==o.config.skin.logo_alt&&(e.is_logo_alt=!0),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.classList.add("bg_white");var a=o.config.pagination[o.config.pagination.length-2];n.querySelector("[data-id="+r.id+"] .go_back").onclick=function(e){var t=n.querySelector("[data-id="+r.id+"] .show");null!==t.previousElementSibling&&t.previousElementSibling.classList.contains("section")?(t.classList.remove("show"),t.previousElementSibling.classList.add("show")):r.homepage.init(o,""==a?"home":a).catch(function(e){return console.log(e)})},n.querySelector("[data-id="+r.id+"] .exit").onclick=function(e){r.homepage.init(o,""==a?"home":a).catch(function(e){return console.log(e)})},n.querySelectorAll("[data-id="+r.id+"] .section").forEach(function(e){return e.onclick=function(t){e.classList.contains("show")&&null!==e.nextElementSibling?(e.classList.remove("show"),e.nextElementSibling.classList.add("show")):r.homepage.init(o,""==a?"home":a).catch(function(e){return console.log(e)})}}),t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.photo=r.db(o.config.skin.persona.photo),e.avatar=r.db(e.avatar)):(e.photo=r.dd(o.config.skin.name.toLowerCase()+"/"+o.config.skin.persona.name.toLowerCase(),o.config.skin.persona.photo),e.avatar=r.dd("public/home",e.avatar)),e.company=o.config.skin.persona.company_name,e.initials=o.config.skin.persona.name.split("")[0].toUpperCase()+o.config.skin.persona.last_name.split("")[0].toUpperCase(),e.first_name=o.config.skin.persona.name,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){o.config.community.first&&document.querySelector('[data-homepage-tab="community"]').classList.add("show_once");var c=o.config.pagination[o.config.pagination.length-2];n.querySelector("[data-id="+r.id+"] .go_back").onclick=function(e){var t=n.querySelector("[data-id="+r.id+"] .show");null!==t.previousElementSibling&&t.previousElementSibling.classList.contains("section")?(t.classList.remove("show"),t.previousElementSibling.classList.add("show")):r.homepage.init(o,""==c?"home":c).catch(function(e){return console.log(e)})},n.querySelector("[data-id="+r.id+"] .exit").onclick=function(e){r.homepage.init(o,""==c?"home":c).catch(function(e){return console.log(e)})},n.querySelectorAll("[data-id="+r.id+"] .section").forEach(function(e){return e.onclick=function(t){e.classList.contains("show")&&null!==e.nextElementSibling?(e.classList.remove("show"),e.nextElementSibling.classList.add("show")):(o.config.community.first=!1,document.querySelector('[data-homepage-tab="community"]').classList.remove("show_once"),n.classList.remove("bg_white"))}}),t.target_cards&&(n.querySelector("[data-id="+r.id+"] .section.play_nice").onclick=function(e){o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.photo=r.db(o.config.skin.persona.photo)):(e.image=r.dd("public/home",e.image),e.photo=r.dd(o.config.skin.name.toLowerCase()+"/"+o.config.skin.persona.name.toLowerCase(),o.config.skin.persona.photo)),e.initials=o.config.skin.persona.name.split("")[0].toUpperCase()+o.config.skin.persona.last_name.split("")[0].toUpperCase(),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"] .create_post_wrapper").onclick=function(e){r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),t.target_cards&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))},n.querySelector("[data-id="+r.id+"] .take_photo_wrapper").onclick=function(e){t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.image=r.db(e.image),e.photo=e.avatar?r.db(e.avatar):r.db(o.config.skin.persona.photo)):(e.image=r.dd("public/home",e.image),e.photo=e.avatar?r.dd("public/home",e.avatar):r.dd(o.config.skin.name.toLowerCase()+"/"+o.config.skin.persona.name.toLowerCase(),o.config.skin.persona.photo)),e.initials=o.config.skin.persona.name.split("")[0].toUpperCase()+o.config.skin.persona.last_name.split("")[0].toUpperCase(),e.username=e.avatar_name?e.avatar_name:o.config.skin.persona.name+" "+o.config.skin.persona.last_name,e.company=e.avatar_name?e.avatar_name:o.config.skin.persona.company_name,e.avatar_override=!(null==e.avatar),null!==e.image&&(e.is_image=!0),"company_post"===e.label_one_title&&(e.is_business=!0),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(o,i){"hidden"===t.status&&n.querySelector("[data-id="+r.id+"]").classList.add("hide"),t.title&&(n.querySelector("[data-id="+r.id+"] .message_info .persona_name span").innerHTML="in "),n.querySelector("[data-id="+r.id+"] .see_more").onclick=function(e){n.classList.add("popup_mode")},o(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){var a=o.config.pagination[o.config.pagination.length-2];n.querySelector("[data-id="+r.id+"] .button_box").onclick=function(e){n.classList.remove("popup_mode"),o.config.ways_to_earn.first=!1,o.config.ways_to_earn.home=!0},n.querySelector("[data-id="+r.id+"] .blue_exit").onclick=function(e){r.homepage.init(o,""==a?"home":a).catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),e.label_one_title||(e.contact="no_phone"),e.label_two_title||(e.contact="no_web"),e.cta||(e.contact="no_cta"),e.cta||e.label_one_title||(e.contact="web_only"),e.cta||e.label_two_title||(e.contact="phone_only"),"engage"===e.label_fsa&&(e.icons="engage"),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector(".exit_box").onclick=function(){var e=void 0;e=o.config.pagination.length<3?o.config.pagination[o.config.pagination.length-2]:o.config.pagination[o.config.pagination.length-3],r.homepage.init(o,""==e?"home":e).catch(function(e){return console.log(e)})},r.init_card_click(t,n,o,".cta_button"),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] [data-name]")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-name"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_cards;i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=u,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.config.skin.persona.company_name&&e.amount_plan_status&&(e.company=o.config.skin.persona.company_name.toUpperCase(),e.amount_plan_status=e.amount_plan_status.replace(/{{company}}/g,e.company)),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.querySelector("[data-id="+r.id+"] .blue_arrow_plan_status").onclick=function(e){r.homepage.init(o,"home").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){"hidden"===t.status&&n.querySelector("[data-id="+r.id+"]").classList.add("hide"),n.querySelector('[data-id="'+r.id+'"]').onclick=function(e){t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector("[data-id="+r.id+"] .hotspot").onclick=function(e){t.epilogue&&(o.config.target_cards.filter(function(e){return e.name===t.epilogue.name})[0].status=null,o.config.target_cards.filter(function(e){return"button_only"===e.type})[0].status="hidden",o.config.target_cards[0].status="completed",o.config.programs[t.category].add_bg="true",o.config.programs[t.category].points=10,o.config.skin.persona["blog_"+o.config.skin.persona.time]=o.config.target_cards),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["community_top_"+o.config.skin.persona.time],o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_carousel(t,e,n,o)}).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));document.querySelector("[data-id="+this.id+"] .layers")&&TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth,ease:Quint.easeOut}),document.querySelector("[data-id="+this.id+"] .grey_dot")&&TweenMax.to("[data-id="+this.id+"] .grey_dot",1,{x:-t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .static .dots").clientWidth,ease:Quint.easeOut})}},{key:"init_carousel",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){var i=r;r.scroll=new IScroll("[data-id="+r.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),r.scroll.on("scroll",function(e){i.update(o,this)}),t(e)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){r.homepage.section.removeAttribute("data-activity"),Array.from(n.querySelectorAll("[data-id="+r.id+"] .slide .hotspot")).forEach(function(e,n){e.addEventListener("BOX_TAPPED",function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_benefit;if(r.homepage.previous[r.homepage.section.getAttribute("data-homepage-tab")]=$("main").scrollTop(),i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u){o.config.target_cards=u.actions,o.config.skin.persona["blog_"+o.config.skin.persona.time]=r.removeDuplicates(r.flatten(u.actions));var l=u.actions.filter(function(e){return"program_activity"==e.type});l.length>0&&(o.config.programs[l[0].category]||(o.config.programs[l[0].category]={points:0})),r.homepage.init(o,"blog").catch(function(e){return console.log(e)})}})}),Array.from(n.querySelectorAll("[data-id="+r.id+"] .layer .cta")).forEach(function(e){return e.onclick=function(){var n=e.getAttribute("data-layer"),i=t.carousel.filter(function(e){return e.name===n})[0].target_cards;i&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=i,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?(e.photo=r.db(o.config.skin.persona.photo),e.avatar=r.db(e.avatar)):(e.photo=r.dd(o.config.skin.name.toLowerCase()+"/"+o.config.skin.persona.name.toLowerCase(),o.config.skin.persona.photo),e.avatar=r.dd("public/home",e.avatar)),e.company=o.config.skin.persona.company_name,e.initials=o.config.skin.persona.name.split("")[0].toUpperCase()+o.config.skin.persona.last_name.split("")[0].toUpperCase(),e.first_name=o.config.skin.persona.name,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.querySelector("[data-id="+r.id+"]").onclick=function(e){o.config.community.first=!1,document.querySelector('[data-homepage-tab="blog"]').classList.remove("show_once"),r.homepage.init(o,"community").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.status&&(e.is_livepopup=!0),e.location=o.config.skin.persona.state+" "+o.config.skin.persona.zip,e.network="<network>"==e.caption_store_credit?o.config.skin.persona.occupation:e.caption_store_credit,o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){r.init_card_click(t,n,o),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.username=o.config.skin.persona.name,e.company=o.config.skin.persona.company_name,e.total=e.list_amounts.map(function(e){return Number(e)}).reduce(function(e,t){return e+t}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){"engage_app"===o.app_name&&n.querySelector("[data-id="+r.id+"] .chat_engage_box").classList.add("engage"),n.querySelector(".exit_box").onclick=function(){r.homepage.init(o,"home").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.company_name=o.config.skin.persona.company_name,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.total=o.config.ways_to_earn.total_points,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["rewards_gift_cards_"+o.config.skin.persona.time]?o.config.skin.persona["rewards_gift_cards_"+o.config.skin.persona.time]:null,o.dev?e.carousel.forEach(function(e){return e.image=r.db(e.image)}):e.carousel.forEach(function(e){return e.image=r.dd("public/home",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .layer_gift")).forEach(function(e){return e.onclick=function(e){var n=e.currentTarget.getAttribute("data-gift-id"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search,u=t.carousel.filter(function(e){return e.name===n})[0].target_cards;i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&(console.log(a),r.homepage.init(o,a).catch(function(e){return console.log(e)})),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)})),u&&(o.config.skin.persona["blog_"+o.config.skin.persona.time]=u,r.homepage.init(o,"blog").catch(function(e){return console.log(e)}))}}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){r.init_card_click(t,n,o),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){r.init_card_click(t,n,o),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.first_name=o.config.skin.persona.name,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.classList.add("bg_white");var a=o.config.pagination[o.config.pagination.length-2];n.querySelector("[data-id="+r.id+"] .go_back").onclick=function(e){var t=n.querySelector("[data-id="+r.id+"] .show");null!==t.previousElementSibling&&t.previousElementSibling.classList.contains("section")?(t.classList.remove("show"),t.previousElementSibling.classList.add("show")):r.homepage.init(o,""==a?"home":a).catch(function(e){return console.log(e)})},n.querySelector("[data-id="+r.id+"] .exit").onclick=function(e){r.homepage.init(o,""==a?"home":a).catch(function(e){return console.log(e)})},n.querySelectorAll("[data-id="+r.id+"] .section").forEach(function(e){return e.onclick=function(t){e.classList.contains("show")&&null!==e.nextElementSibling?(e.classList.remove("show"),e.nextElementSibling.classList.add("show")):r.homepage.init(o,""==a?"home":a).catch(function(e){return console.log(e)})}}),t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(o,i){n.querySelector("[data-id="+r.id+"]").classList.add("_sticky"),n.querySelector("[data-id="+r.id+"]").onclick=function(e){var o=n.parentElement.querySelector(".high_touch"),r=window.innerHeight;o.classList.add("on"),o.querySelector(".title").innerHTML=t.title,o.querySelector(".description").innerHTML=t.description,o.querySelector(".label_fsa").innerHTML=t.label_fsa,o.querySelector(".caption_fsa").innerHTML=t.caption_fsa,(new TimelineMax).add(TweenMax.to(o.querySelector(".blue_box"),1,{startAt:{y:r},y:0,ease:Quint.easeOut}))},o(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(0));i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,i){n.querySelectorAll("[data-id="+r.id+"] .selection-button").forEach(function(e){return e.onclick=function(t){e.classList.contains("selected")?e.classList.remove("selected"):e.classList.add("selected")}}),n.querySelector("[data-id="+r.id+"] .cancel-button").onclick=function(){r.homepage.init(o,"more").catch(function(e){return console.log(e)})},n.querySelector("[data-id="+r.id+"] .update-button").onclick=function(){r.homepage.init(o,"more").catch(function(e){return console.log(e)})},t(e)})}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){o.dev?e.image=r.db(e.image):e.image=r.dd("public/home",e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(n,i){t.target_tab&&r.homepage.init(o,""+t.target_tab).catch(function(e){return console.log(e)}),t.target&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),n(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(5)),i=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"email"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e,n){var o=this;return new Promise(function(r,i){n.config.skin.persona.intro.firstletter=n.config.skin.persona.intro.from_who.slice(0,1),n.config.skin.persona.intro.article_img=n.dev?o.db(n.config.skin.persona.intro.article_img):o.dd("public/intro",n.config.skin.persona.intro.article_img),n.config.skin.persona.intro.is_email=!0,function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",o).call(o,e,n).then(function(t){return o.init_nav(e,n)}).then(function(e){r(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t){return new Promise(function(n,o){e.querySelector(".article_button button").onclick=function(e){new i.default("#onboarding").init(t).then(function(e){console.log(e)}).catch(function(e){return console.log(error)})},n("email ready")})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.scroll=null,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init_json",value:function(e){return new Promise(function(t,n){$.getJSON(e.dev?"https://castlight-db.herokuapp.com/walkthrough.json?_="+Date.now():cordova.file.dataDirectory+"/walkthrough.json?_="+Date.now()).then(function(e){t(e)})})}},{key:"init",value:function(e){var n=this;return new Promise(function(o,r){n.init_json(e).then(function(o){var r={dev:!0,config:o};return e.dev?r.config.walkthrough.forEach(function(e){e.image=n.db(e.image)}):r.config.walkthrough.forEach(function(e){e.image=n.dd("public/walkthrough",e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,r)}).then(function(e){return n.init_carousel(e)}).then(function(e){return n.init_nav(e)}).then(function(e){o(e)}).catch(function(e){return console.log(e)})})}},{key:"init_carousel",value:function(e){var t=this;return new Promise(function(n,o){var r=t;t.scroll=new IScroll("#why_castlight .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"REWARD_TAPPED"}),t.scroll.goToPage(0,0,500,IScroll.utils.ease.circular),t.scroll.on("scrollEnd",function(e){var t=r.scroll.currentPage.pageX;Array.from(r.section.querySelectorAll(".dot")).forEach(function(e){e.classList.remove("blue_dot")}),r.section.querySelector(".dot:nth-child("+(t+1)+")").classList.add("blue_dot")}),n(e)})}},{key:"init_nav",value:function(e){var t=this;return new Promise(function(n,o){t.section.querySelector('[data-name="get_started"]').onclick=function(){location.reload()},n(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(1)),i=a(n(12));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.origin=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){var n=this;return new Promise(function(o,r){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",n).call(n,e).then(function(e){o(e)}).then(function(t){return TweenMax.from(n.section,.5,{opacity:0}),n.init_nav(t,e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t){var n=this;return new Promise(function(o,r){o(e),TweenMax.delayedCall(2,function(){new i.default("#onboarding_web",!0,n.origin).init(t).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})})})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.image=r.db(e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){document.querySelector("#homepage_web .home").classList.remove("on"),document.querySelector('[data-homepage-web-tab="sr"] .find_care').classList.add("on"),document.querySelector("#homepage_web header input").setAttribute("placeholder",o.config.search_result),n.querySelector("[data-id="+r.id+"]").onclick=function(e){t.target_cards&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=t.target_cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))},i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.image=r.db(e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.image=r.db(e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.image=r.db(e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.scroll=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["daily_activities_"+o.config.skin.persona.time]?o.config.skin.persona["daily_activities_"+o.config.skin.persona.time]:null,e.carousel.forEach(function(e){return e.image=r.db(e.image)}),e.carousel.forEach(function(e){return e.avatar=r.db(e.avatar)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_carousel(t,e,n,o)}).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));document.querySelector("[data-id="+this.id+"] .layers")&&TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth,ease:Quint.easeOut}),document.querySelector("[data-id="+this.id+"] .blue_dot")&&TweenMax.to("[data-id="+this.id+"] .blue_dot",1,{x:-t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .static .dots").clientWidth,ease:Quint.easeOut})}},{key:"init_carousel",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){var i=r;r.scroll=new IScroll("[data-id="+r.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),r.scroll.on("scroll",function(e){i.update(o,this)}),t(e)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .slide .hotspot")).forEach(function(e,n){e.addEventListener("BOX_TAPPED",function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search;t.carousel.filter(function(e){return e.name==n})[0].status="finished",i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))})}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.image=r.db(e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.image=r.db(e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r.scroll=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["personalized_for_you_"+o.config.skin.persona.time]?o.config.skin.persona["personalized_for_you_"+o.config.skin.persona.time]:null,e.carousel.forEach(function(e){return e.image=r.db(e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_carousel(t,e,n,o)}).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"update",value:function(e,t){Math.trunc(Math.abs(t.x/t.wrapperWidth));document.querySelector("[data-id="+this.id+"] .layers")&&TweenMax.to("[data-id="+this.id+"] .layers",1,{x:t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .layers").clientWidth,ease:Quint.easeOut}),document.querySelector("[data-id="+this.id+"] .blue_dot")&&TweenMax.to("[data-id="+this.id+"] .blue_dot",1,{x:-t.x/t.scrollerWidth*document.querySelector("[data-id="+this.id+"] .static .dots").clientWidth,ease:Quint.easeOut})}},{key:"init_carousel",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){var i=r;r.scroll=new IScroll("[data-id="+r.id+"] .carousel",{eventPassthrough:!0,scrollX:!0,scrollY:!1,scrollbars:!1,preventDefault:!1,snap:!0,momentum:!1,tap:"BOX_TAPPED",probeType:3}),r.scroll.on("scroll",function(e){i.update(o,this)}),t(e)})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){Array.from(n.querySelectorAll("[data-id="+r.id+"] .slide .hotspot")).forEach(function(e,n){e.addEventListener("BOX_TAPPED",function(e){var n=e.currentTarget.getAttribute("data-slide"),i=t.carousel.filter(function(e){return e.name===n})[0].target,a=t.carousel.filter(function(e){return e.name===n})[0].target_tab,c=t.carousel.filter(function(e){return e.name===n})[0].target_search;t.carousel.filter(function(e){return e.name==n})[0].status="finished",i&&(o.config.skin.persona["bieber_"+o.config.skin.persona.time]=[t.carousel.filter(function(e){return e.name===n})[0].target],r.homepage.init(o,"bieber").catch(function(e){return console.log(e)})),a&&r.homepage.init(o,a).catch(function(e){return console.log(e)}),c&&(o.config.skin.persona["sr_"+o.config.skin.persona.time]=o.config.skin.persona.autosuggest.filter(function(e){return e.name===c})[0].cards,r.homepage.init(o,"sr").catch(function(e){return console.log(e)}))})}),i(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["company_updates_"+o.config.skin.persona.time]?o.config.skin.persona["company_updates_"+o.config.skin.persona.time]:null,e.carousel.forEach(function(e){return e.image=r.db(e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.image=r.db(e.image),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.carousel=o.config.skin.persona["interesting_reads_"+o.config.skin.persona.time]?o.config.skin.persona["interesting_reads_"+o.config.skin.persona.time]:null,e.carousel.forEach(function(e){return e.image=r.db(e.image)}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){return new Promise(function(t,n){t(e)})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(t,n){r.homepage.section.querySelector(".wrapper").classList.add("on","no-hover"),Array.from(r.homepage.section.querySelectorAll(".wrapper")).forEach(function(e){return e.onclick=function(e){r.toggle(e.currentTarget)}}),t(e)})}},{key:"toggle",value:function(e){Array.from(e.classList).includes("wrapper")&&(this.homepage.section.querySelectorAll(".wrapper").forEach(function(e){e.classList.remove("on","no-hover")}),e.classList.add("on","no-hover"))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=(o=i)&&o.__esModule?o:{default:o};var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.homepage=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e,n,o){var r=this;return new Promise(function(i,a){e.autosuggest=e.autosuggest.map(function(t){return"<span class=trigger>"+e.trigger+"</span><span class=copy>"+t.toLowerCase().split(e.trigger)[1]+"</span>"}),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",r).call(r,e,n,o).then(function(t){return r.init_nav(t,e,n,o)}).then(function(e){i(e)}).catch(function(e){return console.log(e)})})}},{key:"init_nav",value:function(e,t,n,o){var r=this;return new Promise(function(i,a){n.querySelector('[data-type="autosuggest_web"]').onclick=function(){o.config.skin.persona["sr_"+o.config.skin.persona.time]=t.cards.filter(function(e){return e}),r.homepage.init(o,"sr").then(function(e){document.querySelector("#homepage_web header input").setAttribute("placeholder",t.display_text),document.querySelector("#homepage_web").setAttribute("data-search-name",t.name),document.querySelector("#homepage_web .home").classList.remove("on"),document.querySelector('[data-homepage-web-tab="sr"] .find_care').classList.add("on"),o.config.search_result=t.display_text}).catch(function(e){return console.log(e)})},i(e)})}}]),t}();t.default=c}]);
//# sourceMappingURL=all.js.map