import Section from './section';
import home_top_carousel from './home_top_carousel';
import home_rewards_balance from './home_rewards_balance';
import home_fund_balances from './home_fund_balances';
import home_action_carousel from './home_action_carousel';
import find_care_top_carousel from './find_care_top_carousel';
import home_plan_status from './home_plan_status';
import home_recent_claims from './home_recent_claims';
import find_care_nearby_carousel from './find_care_nearby_carousel';
import search_results_top_definition from './search_results_top_definition';
import browse_for_care from './browse_for_care';
import three_things_you_should_know from './three_things_you_should_know';
import find_pcp_providers from './find_pcp_providers';
import your_coverage from './your_coverage';
import find_pcp_carousel from './find_pcp_carousel';
import legal_notice from './legal_notice';
import pcp_details_profile from './pcp_details_profile';
import pcp_details_rate_provider from './pcp_details_rate_provider';
import autosuggest from './autosuggest';
import pcp_details_patient_ratings from './pcp_details_patient_ratings';
import program from './program';
import program_details from './program_details';
import program_multiactions from './program_multiactions';
import program_action from './program_action';
import program_screen from './program_screen';
import home_www_start from './home_www_start';
import challenge_www_start from './challenge_www_start';
import tmp_images from './tmp_images';
import profile_medical_carousel from './profile_medical_carousel';
import claims_summary from './claims_summary';
import profile_top from './profile_top';
import profile_care_team from './profile_care_team';
import search_results_resources_and_benefits from './search_results_resources_and_benefits';
import search_results_related_care from './search_results_related_care';
import bieber from './bieber';
import profile_insurance_card from './profile_insurance_card';
import find_care_top_carousel_2 from './find_care_top_carousel_2';
import benefits_carousel from './benefits_carousel';
import home_activity_carousel from './home_activity_carousel';
import find_care_immediate_care from './find_care_immediate_care';
import profile_start_care_team from './profile_start_care_team';
import profile_start_top from './profile_start_top';
import profile_rewards_summary from './profile_rewards_summary';
import profile_my_interests from './profile_my_interests';
import notifications from './notifications';
import profile_active_programs from './profile_active_programs';
import todo_nav from './todo_nav';
import titles from './titles';
import todo_card from './todo_card';
import healthy_dos from './healthy_dos';
import separators from './separators';
import home_cards from './home_cards';
import rewards_carousel from './rewards_carousel';
import health_assessment from './health_assessment';
import hsa_balance from './hsa_balance';
import home_recent_claims_new from './home_recent_claims_new';
import events from './events';
import newsfeed from './newsfeed';
import top_nav from './top_nav';
import top_social from './top_social';
import social_feed_post from './social_feed_post';
import social_feed_blog from './social_feed_blog';
import social_feed_other_posts from './social_feed_other_posts';
import rewards_balance from './rewards_balance';
import low_back from './low_back';
import dosage_calculator from './dosage_calculator';
import medication_options from './medication_options';
import search_and_disclaimer from './search_and_disclaimer';
import top_nav_cab from './top_nav_cab';
import daily_activities_cab from './daily_activities_cab';
import personalized_for_you_cab from './personalized_for_you_cab';
import home_plan_status_cab from './home_plan_status_cab';
import home_fund_balance_cab from './home_fund_balance_cab';
import home_recent_claims_cab from './home_recent_claims_cab';
import home_your_care_team_cab from './home_your_care_team_cab';
import home_company_updates_cab from './home_company_updates_cab';
import header_nav from './header_nav';
import subheader_nav from './subheader_nav';
import sign_out_cab from './sign_out_cab';
import profile_disclaimer_cab from './profile_disclaimer_cab';
import full_tmp_image from './full_tmp_image';
import rewards_gift_cards_cab from './rewards_gift_cards_cab';
import interesting_reads_cab from './interesting_reads_cab';
import trending_cab from './trending_cab';
import shortcuts_cab from './shortcuts_cab';
import settings_cab from './settings_cab';
import rewards_active_programs_cab from './rewards_active_programs_cab';
import blog_content from './blog_content';
import text_only from './text_only';
import program_top from './program_top';
import top_image_nav from './top_image_nav';
import program_at_a_glance from './program_at_a_glance';
import program_activity from './program_activity';
import program_contacts from './program_contacts';
import button_only from './button_only';
import program_points from './program_points';
import insurance_card_dynamic from './insurance_card_dynamic';
import program_calendar from './program_calendar';
import program_completed from './program_completed';
import store_credit_cab from './store_credit_cab';
import hsa_balance_cab from './hsa_balance_cab';
import home_plan_status_new from './home_plan_status_new';
import trending_now_cab from './trending_now_cab';
import top_header from './top_header';
import office_visit from './office_visit';
import separators_claims from './separators_claims';
import plan_status_spending from './plan_status_spending';
import top_incentive from './top_incentive';
import interesting_reads_one_article from './interesting_reads_one_article';
import interesting_reads_one_story from './interesting_reads_one_story';
import interactive_survey from './interactive_survey';
import fixed_header from './fixed_header';
import core_entry from './core_entry';
import cta_only from './cta_only';
import fixed_header_lang_picker from './fixed_header_lang_picker';
import intro_community from './intro_community';
import ways_to_earn_top from './ways_to_earn_top';
import incentive_category from './incentive_category';
import tmp_image_with_report_option from './tmp_image_with_report_option';
import ios_popup from './ios_popup';
import tmp_image_with_left_right_hotspot from './tmp_image_with_left_right_hotspot';
import full_screen_overflow_hidden_image from './full_screen_overflow_hidden_image';
import separators_incentives from './separators_incentives';
import top_nav_pcorp from './top_nav_pcorp';
import milestone_reward from './milestone_reward';
import full_screen_video from './full_screen_video';
import countdown_top from './countdown_top';
import countdown_action from './countdown_action';
import countdown_tracker_link from './countdown_tracker_link';
import logo_only from './logo_only';
import spring_challenge from './spring_challenge';
import intro_community_live from './intro_community_live';
import community_top_left_right_hotspot from './community_top_left_right_hotspot';
import community_message_live from './community_message_live';
import how_it_works_incentive from './how_it_works_incentive';
import benefit_details from './benefit_details';
import fund_balance_combined from './fund_balance_combined';
import plan_status_details from './plan_status_details';
import linked_trackers from './linked_trackers';
import full_screen_hidden_card from './full_screen_hidden_card';
import community_carousel from './community_carousel';
import community_interests_slide from './community_interests_slide';
import your_care_team_search from './your_care_team_search';
import recent_claim_details from './recent_claim_details';
import deductibles_breakdown from './deductibles_breakdown';
import esi_alert from './esi_alert';
import points_balance from './points_balance';
import rewards_top from './rewards_top';
import rewards_gift_cards_pcorp from './rewards_gift_cards_pcorp';
import rewards_disclaimer from './rewards_disclaimer';
import why_urgent_care from './why_urgent_care';
import personal_challenges from './personal_challenges';
import global_chat from './global_chat';
import shortcuts_health_goals_selector from './shortcuts_health_goals_selector';
import siri_card from './siri_card';
import rewards_history from './rewards_history';
import pcp_details_top from './pcp_details_top';

export default class Homepage extends Section {
  constructor(id, autoplay, home, origin) {
    super(id, autoplay);
    this.origin = origin;

    this.classes = {
      home_top_carousel,
      home_rewards_balance,
      home_fund_balances,
      home_action_carousel,
      home_plan_status,
      home_recent_claims,
      find_care_top_carousel,
      find_care_nearby_carousel,
      find_pcp_carousel,
      legal_notice,
      pcp_details_profile,
      pcp_details_rate_provider,
      autosuggest,
      pcp_details_patient_ratings,
      program,
      program_details,
      program_multiactions,
      program_action,
      program_screen,
      home_www_start,
      challenge_www_start,
      tmp_images,
      profile_medical_carousel,
      claims_summary,
      profile_top,
      profile_care_team,
      search_results_resources_and_benefits,
      search_results_related_care,
      bieber,
      profile_insurance_card,
      find_care_top_carousel_2,
      benefits_carousel,
      home_activity_carousel,
      find_care_immediate_care,
      profile_start_care_team,
      profile_start_top,
      profile_rewards_summary,
      profile_my_interests,
      notifications,
      profile_active_programs,
      titles,
      todo_card,
      notifications,
      profile_active_programs,
      healthy_dos,
      separators,
      home_cards,
      rewards_carousel,
      health_assessment,
      hsa_balance,
      home_recent_claims_new,
      events,
      newsfeed,
      top_nav,
      top_social,
      social_feed_post,
      social_feed_blog,
      social_feed_other_posts,
      rewards_balance,
      low_back,
      dosage_calculator,
      medication_options,
      search_and_disclaimer,
      top_nav_cab,
      top_nav_pcorp,
      daily_activities_cab,
      personalized_for_you_cab,
      home_plan_status_cab,
      home_fund_balance_cab,
      home_recent_claims_cab,
      home_your_care_team_cab,
      home_company_updates_cab,
      header_nav,
      subheader_nav,
      sign_out_cab,
      profile_disclaimer_cab,
      full_tmp_image,
      rewards_gift_cards_cab,
      interesting_reads_cab,
      trending_cab,
      shortcuts_cab,
      settings_cab,
      rewards_active_programs_cab,
      blog_content,
      text_only,
      program_top,
      top_image_nav,
      program_at_a_glance,
      program_activity,
      program_contacts,
      button_only,
      program_points,
      insurance_card_dynamic,
      program_calendar,
      program_completed,
      store_credit_cab,
      hsa_balance_cab,
      home_plan_status_new,
      trending_now_cab,
      top_header,
      office_visit,
      separators_claims,
      separators_incentives,
      top_incentive,
      plan_status_spending,
      interesting_reads_one_article,
      interesting_reads_one_story,
      interactive_survey,
      fixed_header,
      core_entry,
      cta_only,
      fixed_header_lang_picker,
      intro_community,
      ways_to_earn_top,
      incentive_category,
      tmp_image_with_report_option,
      ios_popup,
      tmp_image_with_left_right_hotspot,
      full_screen_overflow_hidden_image,
      milestone_reward,
      full_screen_video,
      countdown_top,
      countdown_action,
      countdown_tracker_link,
      logo_only,
      spring_challenge,
      intro_community_live,
      community_top_left_right_hotspot,
      community_message_live,
      how_it_works_incentive,
      benefit_details,
      fund_balance_combined,
      plan_status_details,
      linked_trackers,
      full_screen_hidden_card,
      community_carousel,
      community_interests_slide,
      your_care_team_search,
      recent_claim_details,
      deductibles_breakdown,
      esi_alert,
      points_balance,
      rewards_top,
      rewards_gift_cards_pcorp,
      rewards_disclaimer,
      why_urgent_care,
      personal_challenges,
      global_chat,
      shortcuts_health_goals_selector,
      siri_card,
      rewards_history,
      search_results_top_definition,
      browse_for_care,
      three_things_you_should_know,
      find_pcp_providers,
      your_coverage,
      profile_rewards_summary,
      todo_nav,
      pcp_details_top
    };

    this.current_tab = null;
    this.autosuggest = null;
    this.previous = {
      home: 0
    };
  }
  init(home, tab = (home.tab) ? home.tab : 'home') {
    return new Promise((resolve, reject) => {
      if (home.dev) {
        home.config.skin.logo = this.db(home.config.skin.logo);
      } else {
        home.config.skin.logo = this.dd(`${home.config.skin.domain}`, home.config.skin.logo);
      }

      //      home.config.skin.persona.time = 'end'; //for debug only!!!

      this.current_tab = `${tab}_${home.config.skin.persona.time}`;

      if (home.config.language === 'german') {
        home.config.skin.persona[this.current_tab] = home.config.skin.persona[this.current_tab].filter(c => c.language == 'german');
      }
      if (home.config.language === 'chinese') {
        home.config.skin.persona[this.current_tab] = home.config.skin.persona[this.current_tab].filter(c => c.language == 'chinese');
      }
      if (home.config.language === 'spanish') {
        home.config.skin.persona[this.current_tab] = home.config.skin.persona[this.current_tab].filter(c => c.language == 'spanish');
      }
      if (home.config.language === '' || home.config.language === 'english') {
        home.config.skin.persona[this.current_tab] = home.config.skin.persona[this.current_tab].filter(c => c.language === null);
      }

      this.cardtypes = (home.config.skin.persona[this.current_tab]) ? home.config.skin.persona[this.current_tab].map(card => (this.classes[card.type]) ? new this.classes[card.type](`${card.type}`, `${card.name}`, this) : undefined) /*.filter(el => el != undefined)*/ : reject(`${this.current_tab} is undefined`);

      super.init(home)
        .then(status => {
          return this.init_nav(status, home, tab, reject)
        })
        .then(status => {
          return this.init_autosuggest(status, home)
        })
        .then(status => {
          resolve(status);
        })
        .catch(e => console.log(e));
    })
  }
  init_first_interstitial(status, home) {
    return new Promise((resolve, reject) => {
      if (home.config.skin.persona.time == 'start') {

        if (home.config.skin.persona[`interstitial_start`]) {
          home.config.skin.persona[`bieber_start`] = home.config.skin.persona[`interstitial_start`];
          this.init(home, 'bieber').catch(e => console.log(e));
        }
      }
      resolve(status);
    });
  }
  show_autosuggest(home, query) {
    let match = home.config.skin.persona.autosuggest.filter(result => query == result.trigger)[0];
    Array.from(this.section.querySelectorAll('[data-type="autosuggest"]')).forEach(card => card.remove());
    if (match) this.autosuggest.init(match, this.section.querySelector('main'), home);
  }
  init_autosuggest(status, home) {
    return new Promise((resolve, reject) => {
      this.section.querySelector('input').oninput = e => this.show_autosuggest(home, e.target.value.toLowerCase());
      this.autosuggest = new autosuggest('autosuggest', null, this);
      resolve(status);
    });
  }
  init_nav(status, home, tab, reject) {
    return new Promise((resolve, reject) => {
      let tabs;
      if (home.app_name === 'castlight_web') {
        tabs = this.section.querySelectorAll('header .tab_web');
      } else {
        tabs = Array.from(this.section.querySelectorAll('footer .tab'));
      }

      tabs.forEach(tab => tab.onclick = e => this.init(home, (e.currentTarget).getAttribute('data-name')).catch(e => reject(`${this.current_tab} is undefined`)));
      this.show_tab(tabs, (this.section.querySelector(`[data-name="${tab}"]`)) ? (this.section.querySelector(`[data-name="${tab}"]`)) : tab, home);

      if (this.section.querySelector('footer .hack')) {
        this.section.querySelector('footer .hack').innerHTML = home.config.skin.persona[`notifications_${home.config.skin.persona.time}`].filter(n => n.label_plan_status != 'read').length;
      }

      if (home.app_name !== 'castlight_web') {
        if (home.config.skin.persona.home_progress) this.section.querySelector('.ffw').onclick = e => this.toggleTime(home);
        if (home.config.skin.persona.home_progress && home.config.skin.name == 'sandbox') this.section.querySelector('.logo').onclick = e => this.toggleTime(home);
        this.section.querySelector('.logout').onclick = e => location.reload();

        if (home.config.skin.persona[`todo_${home.config.skin.persona.time}`]) {
          if (home.config.skin.persona[`todo_${home.config.skin.persona.time}`].filter(t => t.caption_fsa == 'incentive').length > 0) {
            this.section.querySelector(`header .left`).onclick = e => {
              this.init(home, `home`)
                .catch(e => console.log(e));
            }
          }
        }

        this.section.querySelectorAll('.high_touch .close_box .icon, .high_touch .cta_box .cta').forEach(b => b.onclick = e => {
          let ht = this.section.querySelector('.high_touch'),
            H = window.innerHeight
          new TimelineMax()
            .add(TweenMax.to(ht.querySelector('.blue_box'), 1, {
              y: H,
              ease: Quint.easeIn,
              onComplete: e => {
                ht.classList.remove('on')
              }
            }))
        })

        if (home.config.skin.name === 'main_pcorp') this.section.querySelector('header .arrow').onclick = () => this.init(home, 'home');
        if (home.config.skin.name === 'pinnacle_cab') this.section.querySelector('header .left').onclick = () => this.init(home, 'home');
        if (home.config.skin.style === 'pcorp' && tab == 'ways_to_earn') this.section.querySelector('header .right').onclick = e => this.section.querySelector('main').classList.add('popup_mode');
        if (home.config.skin.style === 'pcorp' && tab == 'rewards') {
          this.section.querySelector('header .left').onclick = () => this.init(home, 'ways_to_earn');
          this.section.querySelector('header .right').onclick = () => this.init(home, 'rewards_history');
        }
        if (home.config.skin.style === 'pcorp' && tab == 'rewards_history') this.section.querySelector('header .left').onclick = () => this.init(home, 'rewards');
        if (home.config.skin.style === 'pcorp' && tab == 'plan_details') this.section.querySelector('header .left').onclick = () => this.init(home, 'home');
        if (this.section.getAttribute('data-search-name') == 'primary_care_aetna' && this.section.getAttribute('data-homepage-tab') == 'blog') {
          this.section.querySelector('header .left').onclick = () => this.init(home, 'sr');
        }
      }

      resolve(status);
    })
  }
  toggleTime(home) {

    this.previous.home = 0;

    home.config.ways_to_earn.first = false;
    home.config.ways_to_earn.ready = false;
    home.config.ways_to_earn.home = true;
    home.config.ways_to_earn.ways_to_earn_point = [];
    home.config.ways_to_earn.ways_to_earn_incentive = [];

    if (home.config.skin.persona.time == 'start') {
      home.config.skin.persona.time = 'progress';
    } else if (home.config.skin.persona.time == 'progress') {
      if (home.config.skin.persona.home_end) {
        home.config.skin.persona.time = 'end';
      } else {
        home.config = $.extend(true, {}, this.origin.config);
        home.config.skin.persona.time = 'start';
      }
    } else {
      home.config = $.extend(true, {}, this.origin.config);
      home.config.skin.persona.time = 'start';
    }

    if (home.config.skin.persona[`interstitial_${home.config.skin.persona.time}`]) {
      home.config.skin.persona[`bieber_${home.config.skin.persona.time}`] = home.config.skin.persona[`interstitial_${home.config.skin.persona.time}`];
      this.init(home, 'bieber').catch(e => console.log(e));
    } else {
      this.init(home, 'home').catch(e => console.log(e));
    }
  }
  init_cards(status, home) {
    return new Promise((resolve, reject) => {
      this.init_card(0, resolve, home, status);
    })
  }
  init_card(i, resolve, home, status) {
    if (home.config.skin.persona[this.current_tab] != undefined) {
      if (home.app_name === 'castlight_web') {
        home.config.skin.persona[this.current_tab][i].is_mobile = false;
        let position = home.config.skin.persona[this.current_tab][i].web_position;
        if (position) this.cardtypes[i].init(home.config.skin.persona[this.current_tab][i], this.section.querySelector(`.container_web ${position}`), home)
          .then(status => {
            if (i + 1 < this.cardtypes.length) this.init_card((this.cardtypes[i + 1]) ? i + 1 : i + 2, resolve, home);
            else resolve('#homepage ready');
          })
          .catch(e => console.log(`${home.config.skin.persona[this.current_tab][i+1].type} is undefined`));
      } else {
        home.config.skin.persona[this.current_tab][i].is_mobile = true;
        this.cardtypes[i].init(home.config.skin.persona[this.current_tab][i], this.section.querySelector('main'), home)
          .then(status => {
            if (i + 1 < this.cardtypes.length) this.init_card((this.cardtypes[i + 1]) ? i + 1 : i + 2, resolve, home);
            else resolve('#homepage ready');
          })
          .catch(e => console.log(`${home.config.skin.persona[this.current_tab][i+1].type} is undefined`));
      }
    } else {
      resolve(`${this.current_tab} is undefined`)
    }
  }
  show_tab(tabs, tab, home) {
    let name = (tab.classList) ? tab.getAttribute('data-name') : tab;
    tabs.forEach(tab => tab.classList.remove('on'));
    if (tab.classList) tab.classList.add('on');
    this.current_tab = `${name}_${home.config.skin.persona.time}`;
    this.section.setAttribute('data-homepage-tab', name);

    if (name !== 'bieber' && name !== 'blog') home.config.pagination = [];

    if (home.config.pagination.indexOf(name) === -1) {
      if (home.config.pagination.length === 3) {
        home.config.pagination.splice(0, 1);
        home.config.pagination.push(name);
      } else {
        home.config.pagination.push(name);
      }
    }

    this.section.setAttribute('data-bieber-name', null);
    this.section.setAttribute('data-package', home.config.skin.persona.package);
    //    this.section.setAttribute('data-global-time', home.config.skin.persona.time);
    Array.from(this.section.querySelectorAll('main .card')).forEach(card => card.remove());
    this.section.querySelector('header input').setAttribute('placeholder', 'Condition, procedure or specialty');
    switch (name) {
      case 'todo':
        this.section.querySelector('header .title').innerHTML = 'Your Rewards Journey';
        break;
      case 'plan_details':
        this.section.querySelector('header .title').innerHTML = 'Plan Status';
        break;
      case 'more':
        if (home.config.language === 'german') {
          this.section.querySelector('header .title').innerHTML = 'Mehr für Sie';
        } else if (home.config.language === 'chinese') {
          this.section.querySelector('header .title').innerHTML = '更多内容';
        } else if (home.config.language === 'spanish') {
          this.section.querySelector('header .title').innerHTML = 'Más';
        } else {
          this.section.querySelector('header .title').innerHTML = 'More for You';
        }
        break;
      case 'benefits':
        if (home.config.language === 'german') {
          this.section.querySelector('header .title').innerHTML = 'Leistungen';
        } else if (home.config.language === 'chinese') {
          this.section.querySelector('header .title').innerHTML = '优势';
        } else if (home.config.language === 'spanish') {
          this.section.querySelector('header .title').innerHTML = 'Beneficios';
        } else {
          this.section.querySelector('header .title').innerHTML = name;
        }
        break;
      case 'ways_to_earn':
        this.section.querySelector('header .title').innerHTML = 'Ways to Earn';
        break;
      case 'rewards':
        this.section.querySelector('header .title').innerHTML = name;
        this.section.querySelector('header .right .icon_i').innerHTML = 'History';
        break;
      case 'rewards_history':
        this.section.querySelector('header .title').innerHTML = 'Rewards History';
        break;
      case 'notifications':
        if (home.config.language === 'german') {
          this.section.querySelector('header .title').innerHTML = 'Benachrichtigungen';
        } else if (home.config.language === 'chinese') {
          this.section.querySelector('header .title').innerHTML = '通知';
        } else if (home.config.language === 'spanish') {
          this.section.querySelector('header .title').innerHTML = 'Notificaciones';
        } else {
          this.section.querySelector('header .title').innerHTML = name;
        }
        break;
      default:
        this.section.querySelector('header .title').innerHTML = name;
    }

    if (this.section.getAttribute('data-search-name') == 'primary_care_aetna' && this.section.getAttribute('data-homepage-tab') == 'blog') {
      this.section.querySelector('header .title').innerHTML = 'more results';
    }

    if (home.app_name === 'castlight_web') this.section.querySelector('.container_web .title_web').innerHTML = name;

    if (home.config.skin.persona.package == 'wellbeing_home_benefits_notifications_more') {
      if (home.config.skin.persona[`notifications_${home.config.skin.persona.time}`]) {
        this.section.querySelector('.new_notification').classList.add('off');
        this.section.querySelector('footer .hack').innerHTML = home.config.skin.persona[`notifications_${home.config.skin.persona.time}`].filter(n => n.label_plan_status !== 'read').length;
      }
    }

    if (home.config.skin.name === 'complete_cab_int' || home.config.skin.name === 'dell_int' || home.config.skin.name === 'new_pinnacle_int' || home.config.skin.persona.package === 'wellbeing_int') {
      this.section.querySelector('.hack').innerHTML = '3';
    }
    if (home.config.language === 'german') {
      this.section.querySelector('footer [data-name="home"] .label').innerHTML = 'Startseite';
      this.section.querySelector('footer [data-name="benefits"] .label').innerHTML = 'Leistungen';
      this.section.querySelector('footer [data-name="notifications"] .label').innerHTML = 'Benachrichtigungen';
      this.section.querySelector('footer [data-name="more"] .label').innerHTML = 'Mehr';
    }
    if (home.config.language === 'chinese') {
      this.section.querySelector('footer [data-name="home"] .label').innerHTML = '主页';
      this.section.querySelector('footer [data-name="benefits"] .label').innerHTML = '优势';
      this.section.querySelector('footer [data-name="notifications"] .label').innerHTML = '通知';
      this.section.querySelector('footer [data-name="more"] .label').innerHTML = '更多';
    }
    if (home.config.language === 'spanish') {
      this.section.querySelector('footer [data-name="home"] .label').innerHTML = 'Inicio';
      this.section.querySelector('footer [data-name="benefits"] .label').innerHTML = 'Beneficios';
      this.section.querySelector('footer [data-name="notifications"] .label').innerHTML = 'Notificaciones';
      this.section.querySelector('footer [data-name="more"] .label').innerHTML = 'Más';
    }

    this.init_cards(status, home)
      .then(status => {
        console.log(`[${this.current_tab}] ready`);
        //        TweenMax.to({}, .25, {
        //          onComplete: () => $('[data-homepage-tab="home"] main').scrollTop(this.previous['home'])
        //        });
      })
  }
};
